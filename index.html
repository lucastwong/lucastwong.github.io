<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      html,
      body {
        overflow: scroll;
        background-color: #003366;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .sidenav {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #003366;
        overflow-x: hidden;
        padding-top: 60px;
        transition: 0.5s;
      }

      .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 15px;
        color: #818181;
        display: block;
        transition: 0.3s;
      }

      .sidenav a:hover {
        color: #f1f1f1;
      }

      .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
      }

      #main {
        transition: margin-left .5s;
        padding: 20px;
      }

      @media screen and (max-height: 450px) {
        .sidenav {
          padding-top: 15px;
        }

        .sidenav a {
          font-size: 18px;
        }
      }

      .sidepanel {
        height: 300px;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgba(0, 51, 102, 0.5);
        overflow: hidden;
        transition: 0.5s;
      }

      #renderCanvas {
        width: 100%;
        height: 100%;
        touch-action: auto;
      }

      /* Mouse-over effects */
      .slider:hover {
        opacity: 1;
        /* Fully shown on mouse-over */
      }

      .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 15px;
        border-radius: 5px;
        background: gray;
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
      }

      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 50px;
        height: 50px;
        background: gold;
        cursor: pointer;
      }

      .slider::-moz-range-thumb {
        width: 50px;
        height: 50px;
        background: gold;
        cursor: pointer;
      }

      .header {
        position: sticky;
        left: 0;
        z-index: 2;
        top: 0;
        width: 100%;
        background-color: black;
        color: white;
        text-align: center;
      }

    </style>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script src="https://code.jquery.com/pep/0.4.3/pep.min.js"></script>
    <script src="https://unpkg.com/vexflow/releases/vexflow-min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonaljs/tonal/browser/tonal.min.js"></script>
  </head>
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="#">Loading...</a>
  </div>
  <div id="mySidepanel" class="sidepanel"></div>
  <div class="header">
    <input type="range" min="0" max="87" value="44" class="slider" id="myRange">
  </div>

  <body>
    <canvas id="renderCanvas" touch-action="auto"></canvas>
    <script>
    var _0x4ef8=["25px","Renderer","repeat","-4P","stringToXML","_attr","Stave","Switch on your device's screen recording function now if desired.\nThen, Tap Teach It.","floor","send","endsWith","unknown","Voice","Axis","metronome","reflectionTexture","ts1","-5d","-6m","attrtempo","A cat lives on the left side of each garage.\nLet's say hello to the cats as well.","backFaceCulling","add","250px","attrsAsObject","CreateBox","push",'<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times',"whole","disableLighting","item","pickedMesh","parseFromString","StaveNote","Rabbit","pointerX","draw","Wonderful job!\nYou might notice that black keys are mostly in groups of 2 and 3.\nFor example, here is a group of 2 black keys.","oninput","The unmute icon should appear at the upper\nleft corner a few seconds after the page has loaded.","TextBlock","measurenumber","rest","BLENDMODE_ONEONE","transpose","getMilliseconds","-7d","intensity","Load My Own Music","Music","Zero","childNodes","removeMouse","HORIZONTAL_ALIGNMENT_CENTER","valueKey","gray","HORIZONTAL_ALIGNMENT_RIGHT","<forward>","onload","format","resize","emitter","pointerType","fff","link","A dog sleeps inside each garage.\nLet's see if the dogs notice you.","-7M","minAngularSpeed","-6A","FreeCameraInputsManager","width","FA6D1E","hasOwnProperty","childrenAsArray","attrfine","fill_style","16th","AdvancedDynamicTexture","Rabbit.babylon","_value","startsWith","pressure","black","xml","backup","HORIZONTAL_ALIGNMENT_LEFT","-2M","nodeName","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/BackDoor.mp3","json","shortcut","8EC9FF","POINTERPICK","pickInfo","-8d","SceneLoader","FromHexString","toString","emissiveColor","replace","version","VERTICAL_ALIGNMENT_BOTTOM","options","Flow","-4A","-4d","Vector3","text/xml","DOMParser","And from the backyard, you see Alice in the attic busy practicing her piano.\nLet's say hello to Alice!","Formatter","UniversalCamera","StaveConnector","green","parseXML","attrKey","serializeToString","audioContext","specularColor","Auto Perform","xmlns","forward","sound","maxEmitPower","-3d","Auto OFF","direction","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Alice.mp3","_text","ambientColor","setKeyStyle","beats","-1A","Enter url (link) of music .xml file or passcode given by admin","CA01CA","ts2","Slider","B7478B","WORLD","voice","setVolume","A9687C","FE0000","onValueChangedObservable","inputs","<ff/>","style","targetStopDuration","MeshBuilder","particles","cancel","getMinutes","type","-5P"," / 0","duration","segno","CreateSimpleButton","<ppp/>","1.3.4","Access Library","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/database.json","F6920C","mySidenav","treble","ppp","beginAnimation","rate","00AF50","text","Note","verticalAlignment","How quickly can you identify all the houses?","mergeCDATA","Mesh","-2m","test","top","rotation","toLowerCase","direction1","red","-100px","presets","tosegno","This is a piano street made of white and black keys.\nLet's give each black key a tap.","stroke","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/presets.json","Bb0","<pp/>","</a>","maximum","80px","async","hemi","grokText","harp","pointerY","eighth","Done Teaching","FF0000","Accidental","-7m","<mp/>","gold","part-list","And here the story continues about the houses.\nThere is a front door and a backyard.","Tempo: ","-8P","grace","tempo","64th","material","<f/>","open","Sphere","parseString","Congratulations! This is the end of the tutorial.","color1","hasChildNodes","minimum","Let's review the three pets living at the garage:\nA cat, a dog, and an eagle.","addTickables","</note>","setTarget","background","white","true","HemisphericLight","Space","prompt","pen","Finally let's review the sequence in each house:\nthe front door, the ground level, the attic where Alice is, and the backyard.","Teach It","response","position","alter","CreateFullscreenUI","pop","setContext","direction-type","length","attrtype","round","SINGLE","BRACE","Color4","height","addControl","innerHTML","dtex","attrdacapo","skyBox","octave-change","pitch","https://raw.githubusercontent.com/BabylonJS/Babylon.js/master/Playground/scenes/","nodeType","bass",'</a><a href="javascript:clickedmusic(',"<mf/>","gravity","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/carhorn.mp3","event","Sound","dim","VERTICAL_ALIGNMENT_CENTER","7900F1","indexOf","Engine","cornerRadius","pick","colorDead","getContext","getSeconds","part-name","White","Scriabin Colors ON","nothing","attrcoda","removeControl","maxAngularSpeed","VERTICAL_ALIGNMENT_TOP","grokType","includes","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Eagle.mp3","getHours","And when you enter through the front door, you arrive at the ground level.\nLet's knock and say hello to your neighbors.","note","93D251","attrtocoda","StandardMaterial","0429E3","speak","Microsoft.XMLDOM","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/FrontDoor.mp3","Transpose: ","https://static.wixstatic.com/media/6304dc_4c332c77383d45b0bb389f244080e702~mv2.png","onPointerObservable","mySidepanel","joinVoices","pointerId","value","namespaceKey","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Garage.mp3","-6M","chord","dacapo","speechSynthesis","StackPanel","attributes","32nd","setType","POINTERMOVE","maxSize","status","tocoda","diffuseColor","<p/>","match","eachquestion","emitRate","Colors OFF","split","nodeValue","PointerEventTypes","7F8BFD","play","beat-type","barline","constructor","color2","grokAttr","?dl=0","addClef","score-part","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Dog.mp3","cresc",');">',"ending","9000FF","thickness","_cdata","start","<duration>","getElementById","shift","substr","attrnumber","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/House.mp3","DynamicTexture","Scene","alpha","An eagle lives on the right side of each garage.\nHave you ever heard an eagle sing before?","but","attr","MergeMeshes","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/","200px","-3M","backward","Loudness","stripElemPrefix","attrdalsegno","onPointerClickObservable","textKey","part","coordinatesMode","attachToMesh","POINTERTAP","How was it? Goodbye!","cdataKey","dropbox","xmlToString","addEventListener","particleTexture","Texture","Color3","https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Cat.wav","attrsegno","responseType","stop","trim","touch","GUI","score-partwise","ParticleSystem","diminuendo","tie","Control","Pedaling: ","random","direction2","name","quarter","POINTERDOWN","crescendo","fontSize","Transpose: 0","horizontalAlignment","chromatic","Pedaling: 100%","namespaceURI","resizeToFit","loadXML","20px","addAccidental","<fff/>","time","Boomwhackers ON","measure","POINTERUP",".mp3","step","rotate","fill","GET","-3m","33CC33","color","-3A","per-minute"];!function(a,x){!function(x){for(;--x;)a.push(a.shift())}(++x)}(_0x4ef8,149);var tutorial,downup,camera,k,truelengths,panel6,yourtouch,anyprep,header333,visualprompt,panel333,slider333,mathsymbol,teaching,touchdynamics,panel33,header33,slider33,slider6,panel22,header22,slider22,button20,button111,button22,previousclick,currentime,nowclick,button112,button21,pitches,lengths,onsets,musiceffect,clicksound,numberofbeats,button12,harp1,celesta,harp2,barstamps,links,usertempo,musics,btpp,result,eachnote,resultpitches,resultonsets,resultvolumes,resultlengths,resulttranspositions,transpositiondata,temposcales,clr,rearrangedmeasures,tempo,transpositions,playing,droptheneedle,utterThis,soundtempo,opening,v,s,d,input,button3,whichpart,numberofmeasures,editdacapos,measureproperties,measuredurations,resulttruelengths,measurescales,whichmeasure,volumes,p,part,sheetmusic,editendings,editbarlines,directions,notecounter,tracer,dynamicdata,globaldynamics,forwarddata,timpani,thismeasure,numberofdirections,numberofsubdirections,dacapos,endings,measureproperty,numberofparts,samplepart,ts1,ts2,barlines,themeasure,piecename,keyboard,button11,panel2,button10,panel3,panel4,advancedTexture,panel5,header2,header3,header4,header5,slider2,opening2,slider3,slider4,slider5,button1,button2,_0x5af3=function(a,x){return _0x4ef8[a-=0]},slider=document[_0x5af3("0xc3")]("myRange"),octave=44,database={},shortcuts={},scriabin=[_0x5af3("0x10c"),_0x5af3("0x19d"),_0x5af3("0x16b"),_0x5af3("0x33"),_0x5af3("0xbe"),"FFFF00",_0x5af3("0x199"),"C3F2FF","AB0034",_0x5af3("0xb0"),"FF7F02","BB74FC"],boom=[_0x5af3("0x75"),"AF5DFE",_0x5af3("0x196"),_0x5af3("0x19e"),_0x5af3("0x157"),_0x5af3("0xd"),"FFC000","FFFE00",_0x5af3("0x8b"),_0x5af3("0x13"),"11A192",_0x5af3("0x8e")],spheres=[],whiteforparticle=[],lh=[],rh=[],cheatmode=!1,pedalpercent=1,keydepth=.3,needle=!1,dyntrack=.5,fingers=[],particles=[],startprompt=0,colorscheme=1,quizmode=-1,head=0,blackkeylength=2.5,blackkeyout=-.4,tempoextra="",userlink="",dacapofrom=0,readyforcoda=!1,readyforfine=!1,alreadydid=!1,segnoplace=0,codaplace=0,whichclick=0,isplaying=[],synth=window[_0x5af3("0x9e")],notes=[],answertracker=[],furthertranspose=0,onwhich="C",currentvol=.05,lastpressure=.01,myOptions={xmlns:!1,attrsAsObject:!1,textKey:_0x5af3("0x14"),valueKey:_0x5af3("0x98"),attrKey:_0x5af3("0xcd"),cdataKey:"data"};function closeNav(){document[_0x5af3("0xc3")](_0x5af3("0xe"))[_0x5af3("0x1a2")][_0x5af3("0x156")]="0"}function serialremove(a){for(var x=0;x<a[_0x5af3("0x5c")];x++)advancedTexture[_0x5af3("0x82")](a[x])}function serialadd(a){for(var x=0;x<a[_0x5af3("0x5c")];x++)advancedTexture[_0x5af3("0x63")](a[x])}function c88(a){if(a[_0x5af3("0x11a")]("o"))return-999;var x,e;return x={A:0,B:2,C:3,D:5,E:7,F:8,G:10}[a[_0x5af3("0xc5")](0,1)],a[_0x5af3("0x86")]("#")&&x++,a[_0x5af3("0x86")]("b")&&x--,a[_0x5af3("0x86")]("X")&&(x+=2),a[_0x5af3("0x86")]("-")&&(x-=2),0===parseInt(a[_0x5af3("0xc5")](a.length-1),10)?e=0:(e=12*(parseInt(a[_0x5af3("0xc5")](a[_0x5af3("0x5c")]-1),10)-1),(a.includes("A")||a[_0x5af3("0x86")]("B"))&&(e+=12)),e+x}function makeabutton(a,x,e,f,t,r,s,_,n){var o=BABYLON[_0x5af3("0xea")].Button[_0x5af3("0x8")](_0x5af3("0xcc"),a);return o[_0x5af3("0x156")]=x,o[_0x5af3("0x62")]=e,o[_0x5af3("0x10d")]=f,o.background=t,o.thickness=r,o[_0x5af3("0x78")]=20,o[_0x5af3("0xca")]=s,o[_0x5af3("0xf9")]=_,o[_0x5af3("0x16")]=n,o}var VF=Vex[_0x5af3("0x177")],firsttimescroll=!0;function countwhite(a){return[0,,1,2,,3,,4,5,,6][a%12]}function lastclick(){for(var a=resultonsets[_0x5af3("0x5c")]-1;a>-1;a--)if(notes[a]>=999&&notes[a]<1999)return resultonsets[a]}function accidental(a){return a[_0x5af3("0x86")]("##")?"##":a.includes("bb")?"bb":a[_0x5af3("0x86")]("X")?"##":a[_0x5af3("0x86")]("#")?"#":a[_0x5af3("0x86")]("-")?"bb":a[_0x5af3("0x86")]("b")?"b":""}function makeatranspose(a){if(a=a[_0x5af3("0x173")]("/",""),onwhich.includes("#")||onwhich.includes("b")){if(onwhich[_0x5af3("0x86")]("b"))switch(furthertranspose){case-12:return Tonal.Note[_0x5af3("0x13c")](a,"-8P");case-11:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x16e"));case-10:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x35"));case-9:return Tonal.Note[_0x5af3("0x13c")](a,_0x5af3("0x13e"));case-8:return Tonal.Note[_0x5af3("0x13c")](a,_0x5af3("0x122"));case-7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x4"));case-6:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x121"));case-5:return Tonal.Note[_0x5af3("0x13c")](a,_0x5af3("0x113"));case-4:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x179"));case-3:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x10b"));case-2:return Tonal.Note[_0x5af3("0x13c")](a,_0x5af3("0x18c"));case-1:return Tonal.Note.transpose(a,_0x5af3("0x1a"));case 1:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"1A");case 2:return Tonal.Note[_0x5af3("0x13c")](a,"2M");case 3:return Tonal[_0x5af3("0x15")].transpose(a,"2A");case 4:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"3M");case 5:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"4P");case 6:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"4A");case 7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"5P");case 8:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"5A");case 9:return Tonal[_0x5af3("0x15")].transpose(a,"6M");case 10:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"6A");case 11:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"7M");case 12:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"8P")}else if(onwhich[_0x5af3("0x86")]("#"))switch(furthertranspose){case-12:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"-8P");case-11:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"-7M");case-10:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x154"));case-9:return Tonal.Note.transpose(a,"-6M");case-8:return Tonal[_0x5af3("0x15")].transpose(a,"-5A");case-7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x4"));case-6:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x178"));case-5:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x113"));case-4:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0xd1"));case-3:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x10e"));case-2:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x166"));case-1:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x194"));case 1:return Tonal[_0x5af3("0x15")].transpose(a,"2m");case 2:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"3d");case 3:return Tonal[_0x5af3("0x15")].transpose(a,"3m");case 4:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"4d");case 5:return Tonal[_0x5af3("0x15")].transpose(a,"4P");case 6:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"5d");case 7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"5P");case 8:return Tonal[_0x5af3("0x15")].transpose(a,"6m");case 9:return Tonal.Note[_0x5af3("0x13c")](a,"7d");case 10:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"7m");case 11:return Tonal.Note[_0x5af3("0x13c")](a,"8d");case 12:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"8P")}}else switch(furthertranspose){case-12:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x3b"));case-11:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x152"));case-10:return Tonal.Note.transpose(a,_0x5af3("0x35"));case-9:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x9b"));case-8:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x122"));case-7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x4"));case-6:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x178"));case-5:return Tonal[_0x5af3("0x15")].transpose(a,_0x5af3("0x113"));case-4:return Tonal.Note.transpose(a,_0x5af3("0xd1"));case-3:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x10b"));case-2:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,_0x5af3("0x166"));case-1:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"-2m");case 1:return Tonal.Note[_0x5af3("0x13c")](a,"2m");case 2:return Tonal.Note[_0x5af3("0x13c")](a,"2M");case 3:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"3m");case 4:return Tonal[_0x5af3("0x15")].transpose(a,"3M");case 5:return Tonal[_0x5af3("0x15")].transpose(a,"4P");case 6:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"4A");case 7:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"5P");case 8:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"6m");case 9:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"6M");case 10:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"7m");case 11:return Tonal[_0x5af3("0x15")][_0x5af3("0x13c")](a,"7M");case 12:return Tonal.Note.transpose(a,"8P")}}function drawchord(a,x){document[_0x5af3("0xc3")]("mySidepanel").innerHTML="",document[_0x5af3("0xc3")](_0x5af3("0x95"))[_0x5af3("0x1a2")][_0x5af3("0x156")]=_0x5af3("0xd0");var e=document[_0x5af3("0xc3")](_0x5af3("0x95")),f=new(VF[_0x5af3("0x111")])(e,VF.Renderer.Backends.SVG);f[_0x5af3("0x14c")](200,300);var t,r,s=f[_0x5af3("0x7b")]();s[_0x5af3("0xa0")][_0x5af3("0x109")]=_0x5af3("0x37"),s[_0x5af3("0xa0")][_0x5af3("0x25")]=_0x5af3("0x37");var _=new(VF[_0x5af3("0x116")])(10,30,170);if(_[_0x5af3("0xb8")]("treble"),_[_0x5af3("0x176")][_0x5af3("0x15b")]=_0x5af3("0x37"),_[_0x5af3("0x5a")](s)[_0x5af3("0x134")](),a[_0x5af3("0x5c")]>0){for(var n=[],o=0;o<a[_0x5af3("0x5c")];o++)0!==furthertranspose&&(a[o]=makeatranspose(a[o][_0x5af3("0x173")]("-","bb")[_0x5af3("0x173")]("X","##")).replace("0","/0")[_0x5af3("0x173")]("1","/1")[_0x5af3("0x173")]("2","/2")[_0x5af3("0x173")]("3","/3")[_0x5af3("0x173")]("4","/4")[_0x5af3("0x173")]("5","/5")[_0x5af3("0x173")]("6","/6")[_0x5af3("0x173")]("7","/7")),n[o]=accidental(a[o]),a[o]=a[o][_0x5af3("0x173")]("#","")[_0x5af3("0x173")]("-","").replace("X","")[_0x5af3("0x173")]("b","");var c=[new(VF[_0x5af3("0x131")])({clef:_0x5af3("0xf"),keys:a,duration:"w"})];for(o=0;o<n[_0x5af3("0x5c")];o++)""!==n[o]&&c[0][_0x5af3("0x100")](o,new(VF[_0x5af3("0x34")])(n[o])),c[0][_0x5af3("0x192")](o,{shadowBlur:15,shadowColor:"gold",fillStyle:_0x5af3("0x37")});(t=new VF.Voice({num_beats:4,beat_value:4}))[_0x5af3("0x49")](c)}var i=new(VF[_0x5af3("0x116")])(10,150,170);if(i[_0x5af3("0xb8")](_0x5af3("0x6c")),i[_0x5af3("0x176")][_0x5af3("0x15b")]=_0x5af3("0x37"),i[_0x5af3("0x5a")](s).draw(),x[_0x5af3("0x5c")]>0){for(n=[],o=0;o<x[_0x5af3("0x5c")];o++)0!==furthertranspose&&(x[o]=makeatranspose(x[o][_0x5af3("0x173")]("-","bb")[_0x5af3("0x173")]("X","##")).replace("0","/0")[_0x5af3("0x173")]("1","/1")[_0x5af3("0x173")]("2","/2").replace("3","/3")[_0x5af3("0x173")]("4","/4")[_0x5af3("0x173")]("5","/5")[_0x5af3("0x173")]("6","/6")[_0x5af3("0x173")]("7","/7")),n[o]=accidental(x[o]),x[o]=x[o][_0x5af3("0x173")]("#","")[_0x5af3("0x173")]("-","")[_0x5af3("0x173")]("X","")[_0x5af3("0x173")]("b","");var u=[new VF.StaveNote({clef:"bass",keys:x,duration:"w"})];for(o=0;o<n[_0x5af3("0x5c")];o++)""!==n[o]&&u[0][_0x5af3("0x100")](o,new VF.Accidental(n[o])),u[0][_0x5af3("0x192")](o,{shadowBlur:15,shadowColor:_0x5af3("0x37"),fillStyle:_0x5af3("0x37")});(r=new(VF[_0x5af3("0x11c")])({num_beats:4,beat_value:4}))[_0x5af3("0x49")](u)}if(a[_0x5af3("0x5c")]>0&&x[_0x5af3("0x5c")]>0){(new(VF[_0x5af3("0x17e")])).joinVoices([t])[_0x5af3("0x96")]([r])[_0x5af3("0x14b")]([t,r],170);t[_0x5af3("0x134")](s,_),r.draw(s,i)}else if(a[_0x5af3("0x5c")]>0&&0===x[_0x5af3("0x5c")]){(new(VF[_0x5af3("0x17e")]))[_0x5af3("0x96")]([t])[_0x5af3("0x14b")]([t],170);t.draw(s,_)}else if(x[_0x5af3("0x5c")]>0&&0===a[_0x5af3("0x5c")]){(new(VF[_0x5af3("0x17e")])).joinVoices([r]).format([r],170);r[_0x5af3("0x134")](s,i)}var l=new(VF[_0x5af3("0x180")])(_,i),d=new(VF[_0x5af3("0x180")])(_,i);l[_0x5af3("0xa2")](VF[_0x5af3("0x180")][_0x5af3("0x3")][_0x5af3("0x60")]),l.setContext(s),d[_0x5af3("0xa2")](VF[_0x5af3("0x180")].type[_0x5af3("0x5f")]),l.setContext(s),d[_0x5af3("0x5a")](s),l[_0x5af3("0x134")](),d[_0x5af3("0x134")]()}function speaksomething(a){synth[_0x5af3("0x1")](),(utterThis=new SpeechSynthesisUtterance(a)).pitch=1.1,utterThis[_0x5af3("0x12")]=.8,utterThis.lang="en-GB",synth[_0x5af3("0x8f")](utterThis),opening[_0x5af3("0x14")]=a}function teachingsetup(){camera[_0x5af3("0x56")].x=5.88*Math[_0x5af3("0x118")](3.25)+.84*countwhite(39)-21.84,camera[_0x5af3("0x1d")].y=0,camera[_0x5af3("0x56")].z=-50,slider2[_0x5af3("0x98")]=-50,slider[_0x5af3("0x98")]=39,slider4[_0x5af3("0x98")]=0,speaksomething("Tapping the screen (except buttons and keyboard) will scroll the song forward from beat to beat.\nOnce you establish a tempo, you may switch Auto from OFF to ON."),teaching=!0}var xmlToJSON=function(){this[_0x5af3("0x174")]=_0x5af3("0xa");var a={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:_0x5af3("0x190"),valueKey:_0x5af3("0x15f"),attrKey:_0x5af3("0x115"),cdataKey:_0x5af3("0xc0"),attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},x=new RegExp(/(?!xmlns)^.*:/),e=new RegExp(/^\s+|\s+$/g);return this[_0x5af3("0x85")]=function(a){return/^\s*$/.test(a)?null:/^(?:true|false)$/i[_0x5af3("0x1b")](a)?a.toLowerCase()===_0x5af3("0x4e"):isFinite(a)?parseFloat(a):a},this[_0x5af3("0x43")]=function(a,x){return this[_0x5af3("0x182")](this[_0x5af3("0x114")](a),x)},this[_0x5af3("0x182")]=function(f,t){for(var r in t)a[r]=t[r];var s={},_=0,n="";if(a.xmlns&&f[_0x5af3("0xfc")]&&(s[a[_0x5af3("0x99")]]=f[_0x5af3("0xfc")]),f[_0x5af3("0xa0")]&&f[_0x5af3("0xa0")][_0x5af3("0x5c")]>0){for(var o={};_<f[_0x5af3("0xa0")][_0x5af3("0x5c")];_++){var c=f.attributes[_0x5af3("0x12e")](_);d={};var i="";i=a.stripAttrPrefix?c[_0x5af3("0xf3")][_0x5af3("0x173")](x,""):c[_0x5af3("0xf3")],a[_0x5af3("0xb6")]?d[a[_0x5af3("0x146")]]=this[_0x5af3("0x85")](c[_0x5af3("0x98")][_0x5af3("0x173")](e,"")):d[a.valueKey]=c[_0x5af3("0x98")][_0x5af3("0x173")](e,""),a[_0x5af3("0x188")]&&c.namespaceURI&&(d[a[_0x5af3("0x99")]]=c[_0x5af3("0xfc")]),a[_0x5af3("0x128")]?o[i]=d:s[a[_0x5af3("0x183")]+i]=d}a[_0x5af3("0x128")]&&(s[a[_0x5af3("0x183")]]=o)}if(f[_0x5af3("0x46")]())for(var u,l,d,p=0;p<f.childNodes[_0x5af3("0x5c")];p++)4===(u=f[_0x5af3("0x143")][_0x5af3("0x12e")](p))[_0x5af3("0x6b")]?a[_0x5af3("0x18")]?n+=u[_0x5af3("0xae")]:s.hasOwnProperty(a[_0x5af3("0xdd")])?(s[a[_0x5af3("0xdd")]][_0x5af3("0xb4")]!==Array&&(s[a[_0x5af3("0xdd")]]=[s[a[_0x5af3("0xdd")]]]),s[a[_0x5af3("0xdd")]].push(u[_0x5af3("0xae")])):a[_0x5af3("0x159")]?(s[a[_0x5af3("0xdd")]]=[],s[a.cdataKey][_0x5af3("0x12a")](u[_0x5af3("0xae")])):s[a[_0x5af3("0xdd")]]=u[_0x5af3("0xae")]:3===u[_0x5af3("0x6b")]?n+=u.nodeValue:1===u[_0x5af3("0x6b")]&&(0===_&&(s={}),l=a[_0x5af3("0xd4")]?u[_0x5af3("0x167")][_0x5af3("0x173")](x,""):u[_0x5af3("0x167")],d=xmlToJSON[_0x5af3("0x182")](u),s[_0x5af3("0x158")](l)?(s[l].constructor!==Array&&(s[l]=[s[l]]),s[l][_0x5af3("0x12a")](d)):(a[_0x5af3("0x159")]?(s[l]=[],s[l][_0x5af3("0x12a")](d)):s[l]=d,_++));else n||(a.childrenAsArray?(s[a[_0x5af3("0xd7")]]=[],s[a[_0x5af3("0xd7")]].push(null)):s[a[_0x5af3("0xd7")]]=null);if(n)if(a[_0x5af3("0x2e")]){var h=this[_0x5af3("0x85")](n.replace(e,""));null!=h&&(s[a[_0x5af3("0xd7")]]=h)}else a.normalize?s[a[_0x5af3("0xd7")]]=n[_0x5af3("0x173")](e,"")[_0x5af3("0x173")](/\s+/g," "):s[a[_0x5af3("0xd7")]]=n.replace(e,"");return s},this[_0x5af3("0xdf")]=function(a){try{return a[_0x5af3("0x163")]?a[_0x5af3("0x163")]:(new XMLSerializer)[_0x5af3("0x184")](a)}catch(a){return null}},this.stringToXML=function(a){try{var x=null;return window[_0x5af3("0x17c")]?x=(new DOMParser)[_0x5af3("0x130")](a,_0x5af3("0x17b")):((x=new ActiveXObject(_0x5af3("0x90")))[_0x5af3("0x2c")]=!1,x[_0x5af3("0xfe")](a),x)}catch(a){return null}},this}.call({});let thetempo;var grid,canvas=document[_0x5af3("0xc3")]("renderCanvas"),engine=new(BABYLON[_0x5af3("0x77")])(canvas,!0),beattypes={1:_0x5af3("0x12c"),2:"half",4:_0x5af3("0xf4"),8:_0x5af3("0x31"),16:_0x5af3("0x15c"),32:_0x5af3("0xa1"),64:_0x5af3("0x3e")},beattypesreverse={whole:1,half:2,quarter:4,eighth:8,"16th":16,"32nd":32,"64th":64};function tallyup(a){var x=0,e="";if(!a[_0x5af3("0x158")](_0x5af3("0x8a")))return 0;for(var f=0;f<a[_0x5af3("0x8a")][_0x5af3("0x5c")];f++)""===e&&(e=a[_0x5af3("0x8a")][f][_0x5af3("0x19b")][0].text),e===a.note[f][_0x5af3("0x19b")][0].text&&(a[_0x5af3("0x8a")][f][_0x5af3("0x158")](_0x5af3("0x9c"))||a[_0x5af3("0x8a")][f][_0x5af3("0x158")](_0x5af3("0x3c"))||(x+=parseInt(a[_0x5af3("0x8a")][f][_0x5af3("0x6")][0][_0x5af3("0x14")],10)));return x}function getmeasuredurations(){measuredurations=[],measurescales=[];for(var a=0;a<numberofmeasures;a++)for(var x=0;x<numberofparts;x++)measuredurations[100*a+x]=tallyup(result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][a]),measurescales[100*a+x]=1e3/measuredurations[100*a+x]}function gettranspositions(){transpositiondata=[];for(var a=0,x=0;x<numberofparts;x++)result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][0][_0x5af3("0x158")](_0x5af3("0xa0"))&&result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][0][_0x5af3("0xa0")][0][_0x5af3("0x158")](_0x5af3("0x13c"))?(a=result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][0][_0x5af3("0xa0")][0][_0x5af3("0x13c")][0][_0x5af3("0x158")](_0x5af3("0x68"))?12*parseInt(result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][0].attributes[0][_0x5af3("0x13c")][0][_0x5af3("0x68")][0][_0x5af3("0x14")],10):0,transpositiondata[_0x5af3("0x12a")](a+parseInt(result["score-partwise"][0][_0x5af3("0xd8")][x][_0x5af3("0x104")][0][_0x5af3("0xa0")][0][_0x5af3("0x13c")][0][_0x5af3("0xfa")][0].text,10))):transpositiondata[_0x5af3("0x12a")](0)}function printeachmeasure(){whichmeasure=[],pitches=[],onsets=[],lengths=[],transpositions=[],notecounter=0,whichpart=[];for(var a=0;a<numberofmeasures;a++)for(var x=0;x<numberofparts;x++){var e,f,t,r,s,_,n,o="",c=0,i=[],u=0;if((thismeasure=result[_0x5af3("0xeb")][0].part[x][_0x5af3("0x104")][a])[_0x5af3("0x158")](_0x5af3("0x164"))){n=thismeasure.backup.length,i=[];for(var l=0;l<n;l++)i[_0x5af3("0x12a")](parseInt(thismeasure[_0x5af3("0x164")][l].duration[0][_0x5af3("0x14")],10))}if(thismeasure[_0x5af3("0x158")](_0x5af3("0x8a")))for(var d=0;d<thismeasure[_0x5af3("0x8a")].length;d++)if(c+=forwarddata[notecounter],notecounter++,thismeasure.note[d].hasOwnProperty("duration")&&(e=parseInt(thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x6")][0].text,10)),""===o&&(o=thismeasure.note[d].voice[0][_0x5af3("0x14")]),o!==thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x19b")][0][_0x5af3("0x14")]&&(null!=i&&(c-=i[u]),u++,o=thismeasure.note[d][_0x5af3("0x19b")][0].text),thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x158")](_0x5af3("0x9c"))&&(_=c-=f,c+=e),thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x158")](_0x5af3("0x3c"))&&(_=c,e=measuredurations[100*a+x]/16),thismeasure[_0x5af3("0x8a")][d].hasOwnProperty(_0x5af3("0x13a"))&&(pitches.push("&"),transpositions[_0x5af3("0x12a")](0),_=c,onsets[_0x5af3("0x12a")](_*measurescales[100*a+x]),lengths.push(e*measurescales[100*a+x]),whichmeasure.push(a),whichpart[_0x5af3("0x12a")](x)),thismeasure[_0x5af3("0x8a")][d].hasOwnProperty(_0x5af3("0x13a"))&&(c+=e),thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x158")](_0x5af3("0x9c"))||thismeasure[_0x5af3("0x8a")][d].hasOwnProperty(_0x5af3("0x3c"))||thismeasure[_0x5af3("0x8a")][d].hasOwnProperty(_0x5af3("0x13a"))||(f=e,_=c,c+=e),!thismeasure.note[d][_0x5af3("0x158")]("rest")){if(thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x158")](_0x5af3("0x69"))){switch(t=thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x69")][0][_0x5af3("0x107")][0][_0x5af3("0x14")],s=thismeasure[_0x5af3("0x8a")][d][_0x5af3("0x69")][0].octave[0][_0x5af3("0x14")],(r=thismeasure.note[d][_0x5af3("0x69")][0].hasOwnProperty(_0x5af3("0x57"))?thismeasure[_0x5af3("0x8a")][d].pitch[0][_0x5af3("0x57")][0][_0x5af3("0x14")]:"")[_0x5af3("0x171")]()){case"1":r="#";break;case"2":r="X";break;case"-1":r="b";break;case"-2":r="-"}x===timpani?(pitches.push("A0"),transpositions[_0x5af3("0x12a")](0)):(pitches[_0x5af3("0x12a")](t+r+s),transpositions.push(transpositiondata[x]))}else pitches[_0x5af3("0x12a")]("A0"),transpositions[_0x5af3("0x12a")](0);onsets[_0x5af3("0x12a")](_*measurescales[100*a+x]),lengths[_0x5af3("0x12a")](e*measurescales[100*a+x]),whichmeasure[_0x5af3("0x12a")](a),whichpart[_0x5af3("0x12a")](x),thismeasure[_0x5af3("0x8a")][d].hasOwnProperty(_0x5af3("0xee"))&&(1===thismeasure[_0x5af3("0x8a")][d][_0x5af3("0xee")].length&&(pitches[pitches[_0x5af3("0x5c")]-1]=pitches[pitches[_0x5af3("0x5c")]-1]+thismeasure[_0x5af3("0x8a")][d][_0x5af3("0xee")][0][_0x5af3("0x5d")][_0x5af3("0x98")][_0x5af3("0xc5")](2,1)),2===thismeasure[_0x5af3("0x8a")][d][_0x5af3("0xee")][_0x5af3("0x5c")]&&(pitches[_0x5af3("0x59")](),onsets[_0x5af3("0x59")](),lengths[_0x5af3("0x59")](),transpositions[_0x5af3("0x59")](),whichmeasure[_0x5af3("0x59")](),whichpart[_0x5af3("0x59")]()))}}}function getmeasureproperties(){var a;tempo=60,barlines=[],endings=[],dacapos=[],measureproperties=[];var x=0;numberofparts=result[_0x5af3("0xeb")][0][_0x5af3("0xd8")].length,samplepart=result[_0x5af3("0xeb")][0][_0x5af3("0xd8")][0],numberofmeasures=samplepart[_0x5af3("0x104")][_0x5af3("0x5c")];for(var e=0;e<numberofmeasures;e++){if((themeasure=samplepart[_0x5af3("0x104")][e]).hasOwnProperty("attributes")&&themeasure[_0x5af3("0xa0")][0][_0x5af3("0x158")](_0x5af3("0x102"))&&(ts1=themeasure.attributes[0][_0x5af3("0x102")][0][_0x5af3("0x193")][0][_0x5af3("0x14")],ts2=themeasure[_0x5af3("0xa0")][0].time[0][_0x5af3("0xb2")][0][_0x5af3("0x14")]),1===x&&(endings[e]=x),themeasure.hasOwnProperty("barline")){a=themeasure[_0x5af3("0xb3")][_0x5af3("0x5c")];for(var f=0;f<a;f++)themeasure[_0x5af3("0xb3")][f][_0x5af3("0x158")](_0x5af3("0x112"))&&(barlines[e]=themeasure[_0x5af3("0xb3")][f].repeat[0].attrdirection[_0x5af3("0x98")]),themeasure[_0x5af3("0xb3")][f][_0x5af3("0x158")](_0x5af3("0xbd"))&&(1===themeasure.barline[f][_0x5af3("0xbd")][0].attrnumber.value&&(themeasure[_0x5af3("0xb3")][f].ending[0][_0x5af3("0x5d")].value===_0x5af3("0xc1")&&(x=1,endings[e]=1),themeasure[_0x5af3("0xb3")][f].ending[0][_0x5af3("0x5d")][_0x5af3("0x98")]===_0x5af3("0xe7")&&(x=0,endings[e]=1)),2===themeasure.barline[f][_0x5af3("0xbd")][0][_0x5af3("0xc6")][_0x5af3("0x98")]&&"start"===themeasure[_0x5af3("0xb3")][f][_0x5af3("0xbd")][0].attrtype[_0x5af3("0x98")]&&(x=2,endings[e]=2))}if(themeasure[_0x5af3("0x158")]("sound")&&themeasure[_0x5af3("0x18a")][0][_0x5af3("0x158")]("attrtempo")&&(tempo=themeasure[_0x5af3("0x18a")][0][_0x5af3("0x123")].value),themeasure[_0x5af3("0x158")]("direction")){numberofdirections=themeasure.direction[_0x5af3("0x5c")];for(var t=0;t<numberofdirections;t++){if(themeasure.direction[t][_0x5af3("0x158")]("direction-type")){numberofsubdirections=themeasure[_0x5af3("0x18e")][t][_0x5af3("0x5b")][_0x5af3("0x5c")];for(var r=0;r<numberofsubdirections;r++)themeasure[_0x5af3("0x18e")][t][_0x5af3("0x5b")][r][_0x5af3("0x158")](_0x5af3("0x11e"))&&(themeasure[_0x5af3("0x18e")][t]["direction-type"][r][_0x5af3("0x11e")][0][_0x5af3("0x158")]("beat-unit")&&(tempoextra=themeasure[_0x5af3("0x18e")][t]["direction-type"][r].metronome[0]["beat-unit"][0][_0x5af3("0x14")]),themeasure[_0x5af3("0x18e")][t][_0x5af3("0x5b")][r][_0x5af3("0x11e")][0][_0x5af3("0x158")](_0x5af3("0x10f"))&&(tempo=themeasure[_0x5af3("0x18e")][t][_0x5af3("0x5b")][r][_0x5af3("0x11e")][0][_0x5af3("0x10f")][0][_0x5af3("0x14")]))}themeasure.direction[t][_0x5af3("0x158")]("sound")&&(themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x158")]("attrtempo")&&(tempo=themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x123")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x158")](_0x5af3("0x81"))&&(codaplace=themeasure[_0x5af3("0x18e")][t].sound[0][_0x5af3("0x81")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x158")](_0x5af3("0x8c"))&&(dacapos[e]="to"+themeasure.direction[t][_0x5af3("0x18a")][0][_0x5af3("0x8c")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t].sound[0][_0x5af3("0x158")](_0x5af3("0xd5"))&&(dacapos[e]="to"+themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0xd5")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x158")]("attrsegno")&&(dacapos[e]=themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0xe5")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t].sound[0][_0x5af3("0x158")](_0x5af3("0x66"))&&(dacapos[e]=themeasure[_0x5af3("0x18e")][t][_0x5af3("0x18a")][0][_0x5af3("0x66")][_0x5af3("0x98")]),themeasure[_0x5af3("0x18e")][t].sound[0][_0x5af3("0x158")]("attrfine")&&(dacapos[e]=themeasure[_0x5af3("0x18e")][t].sound[0][_0x5af3("0x15a")][_0x5af3("0x98")]))}}""===tempoextra&&(tempoextra=beattypes[ts2]),measureproperty={number:e,ts1:ts1,ts2:ts2,unit:tempoextra,mm:tempo},measureproperties[_0x5af3("0x12a")](measureproperty)}}function maketempoadjustments(){var a;temposcales=[];for(var x=0;x<measureproperties[_0x5af3("0x5c")];x++)a=60/measureproperties[x].mm*measureproperties[x][_0x5af3("0x120")]*(beattypesreverse[measureproperties[x].unit]/measureproperties[x][_0x5af3("0x197")]),temposcales[_0x5af3("0x12a")](a)}function fixpickupmeasure(){var a,x;if(numberofmeasures>1&&measureproperties[0][_0x5af3("0x120")]===measureproperties[1][_0x5af3("0x120")]&&measureproperties[0][_0x5af3("0x197")]===measureproperties[1][_0x5af3("0x197")]&&measureproperties[0].mm===measureproperties[1].mm&&measuredurations[0]!==measuredurations[100]){a=measuredurations[0]/measuredurations[100],x=(measuredurations[100]-measuredurations[0])/measuredurations[100],temposcales[0]=temposcales[0]*a;for(var e=1;e<numberofmeasures;e++)measureproperties[0].ts1!==measureproperties[e][_0x5af3("0x120")]||measureproperties[0][_0x5af3("0x197")]!==measureproperties[e][_0x5af3("0x197")]||barlines[e]!==_0x5af3("0xd2")&&e!==numberofmeasures-1||(temposcales[e]=temposcales[e]*x),measureproperties[0][_0x5af3("0x120")]===measureproperties[e][_0x5af3("0x120")]&&measureproperties[0].ts2===measureproperties[e][_0x5af3("0x197")]&&barlines[e]===_0x5af3("0x189")&&(temposcales[e]=temposcales[e]*a)}}function makebarstamps(){barstamps=[],fixpickupmeasure();for(var a=0,x=0;x<temposcales[_0x5af3("0x5c")];x++)barstamps[_0x5af3("0x12a")](a),a+=1e3*temposcales[x]}function convertdurations(){for(var a,x=0;x<onsets[_0x5af3("0x5c")];x++)a=temposcales[whichmeasure[x]],onsets[x]=onsets[x]*a+barstamps[whichmeasure[x]],lengths[x]=lengths[x]*a}function findtiematch(a,x,e){for(var f=a;f<pitches[_0x5af3("0x5c")];f++)if(pitches[f][_0x5af3("0x11a")]("o")&&pitches[f][_0x5af3("0x173")]("o","")===e&&whichpart[f]===x)return f;return-1}function fixties(){for(var a,x=0;x<pitches[_0x5af3("0x5c")];x++)pitches[x][_0x5af3("0x11a")]("a")&&(-1!==(a=findtiematch(x,whichpart[x],pitches[x][_0x5af3("0x173")]("a","")))&&(lengths[x]=onsets[a]-onsets[x]+lengths[a]),pitches[x]=pitches[x][_0x5af3("0x173")]("a",""))}function findpercussion(){if(timpani=-1,harp1=-1,harp2=-1,celesta=-1,result[_0x5af3("0xeb")][0][_0x5af3("0x158")](_0x5af3("0x38"))&&result["score-partwise"][0][_0x5af3("0x38")][0][_0x5af3("0x158")](_0x5af3("0xb9")))for(var a=0;a<result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0]["score-part"].length;a++)result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0]["score-part"][a][_0x5af3("0x158")](_0x5af3("0x7d"))&&null!==result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0][_0x5af3("0xb9")][a][_0x5af3("0x7d")][0].text[0]&&(result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0]["score-part"][a][_0x5af3("0x7d")][0][_0x5af3("0x14")][_0x5af3("0x1e")]()[_0x5af3("0x86")]("timp")&&(timpani=a),result["score-partwise"][0][_0x5af3("0x38")][0][_0x5af3("0xb9")][a][_0x5af3("0x7d")][0][_0x5af3("0x14")][_0x5af3("0x1e")]().includes(_0x5af3("0x2f"))&&-1===harp1&&(harp1=a),result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0][_0x5af3("0xb9")][a][_0x5af3("0x7d")][0][_0x5af3("0x14")][_0x5af3("0x1e")]()[_0x5af3("0x86")](_0x5af3("0x2f"))&&-1!==harp1&&(harp2=a),result[_0x5af3("0xeb")][0][_0x5af3("0x38")][0]["score-part"][a][_0x5af3("0x7d")][0][_0x5af3("0x14")].toLowerCase()[_0x5af3("0x86")]("celest")&&(celesta=a))}function applypedal(){truelengths=[];for(var a=0;a<lengths[_0x5af3("0x5c")];a++)truelengths[_0x5af3("0x12a")](lengths[a]),whichmeasure[a]!==numberofmeasures-1&&onsets[a]+lengths[a]<barstamps[whichmeasure[a]+1]&&(lengths[a]=barstamps[whichmeasure[a]+1]-onsets[a])}function getforwarddynamicdata(){var a,x,e=(sheetmusic=sheetmusic.replace(/\u0020/g,""))[_0x5af3("0xad")](_0x5af3("0x139"));rearrangedmeasures=[],eachnote=[],forwarddata=[],dynamicdata=[],e[_0x5af3("0xc4")]();for(var f=0;f<numberofmeasures;f++)for(var t=0;t<numberofparts;t++)rearrangedmeasures.push(e[t*numberofmeasures+f]);for(var r=0;r<rearrangedmeasures[_0x5af3("0x5c")];r++){(a=rearrangedmeasures[r].split(_0x5af3("0x4a")))[_0x5af3("0x59")]();for(var s=0;s<a.length;s++)eachnote[_0x5af3("0x12a")](a[s])}for(var _=0;_<eachnote.length;_++)eachnote[_][_0x5af3("0x86")](_0x5af3("0x149"))?(x=eachnote[_][_0x5af3("0xc5")](eachnote[_][_0x5af3("0x76")](_0x5af3("0xc2"))+10),x=parseInt(x[_0x5af3("0xc5")](0,x[_0x5af3("0x76")]("<")),10),forwarddata[_0x5af3("0x12a")](x)):forwarddata[_0x5af3("0x12a")](0),eachnote[_][_0x5af3("0x86")](_0x5af3("0xed"))?dynamicdata.push(_0x5af3("0x73")):eachnote[_][_0x5af3("0x86")](_0x5af3("0xf6"))?dynamicdata.push(_0x5af3("0xbb")):eachnote[_][_0x5af3("0x86")](_0x5af3("0x101"))?dynamicdata.push("fff"):eachnote[_][_0x5af3("0x86")](_0x5af3("0x1a1"))?dynamicdata[_0x5af3("0x12a")]("ff"):eachnote[_][_0x5af3("0x86")](_0x5af3("0x40"))?dynamicdata[_0x5af3("0x12a")]("f"):eachnote[_][_0x5af3("0x86")](_0x5af3("0x6e"))?dynamicdata.push("mf"):eachnote[_].includes(_0x5af3("0x36"))?dynamicdata[_0x5af3("0x12a")]("mp"):eachnote[_][_0x5af3("0x86")](_0x5af3("0xa8"))?dynamicdata[_0x5af3("0x12a")]("p"):eachnote[_].includes(_0x5af3("0x28"))?dynamicdata[_0x5af3("0x12a")]("pp"):eachnote[_][_0x5af3("0x86")](_0x5af3("0x9"))?dynamicdata[_0x5af3("0x12a")](_0x5af3("0x10")):dynamicdata[_0x5af3("0x12a")]("")}function analyzedynamic(){globaldynamics=[];for(var a=0;a<numberofparts;a++){for(var x=[],e=0;e<dynamicdata[_0x5af3("0x5c")];e++)whichpart[e]===a&&""!==dynamicdata[e]&&(x[whichmeasure[e]]=dynamicdata[e]);globaldynamics[_0x5af3("0x12a")](x)}for(var f=0;f<globaldynamics[_0x5af3("0x5c")];f++){var t=_0x5af3("0x11b");for(e=0;e<numberofmeasures;e++)null===globaldynamics[f][e]||void 0===globaldynamics[f][e]?globaldynamics[f][e]="unknown"===t?"mp":t:t=globaldynamics[f][e]}}function convertdynamictonum(){var a;volumes=[],tracer=[];for(var x=0;x<globaldynamics[_0x5af3("0x5c")];x++){for(var e=0,f=[],t=0;t<numberofmeasures;t++){switch(globaldynamics[x][t]){case _0x5af3("0x14f"):e=.5;break;case"ff":e=.45;break;case"f":e=.4;break;case"mf":e=.35;break;case"mp":e=.3;break;case"p":e=.25;break;case"pp":e=.2;break;case _0x5af3("0x10"):e=.25;break;case _0x5af3("0xbb"):e+=.02;break;case _0x5af3("0x73"):e-=.02}e>.5&&(e=.5),e<.05&&(e=.05),f.push(e)}tracer.push(f)}for(t=0;t<pitches[_0x5af3("0x5c")];t++)whichpart[t]===harp1||whichpart[t]===harp2||whichpart[t]===celesta?volumes[t]=.03:(a=parseInt(pitches[t][_0x5af3("0x173")]("o","")[_0x5af3("0xc5")](pitches[t][_0x5af3("0x173")]("o","").length-1,1),10)/50,(a+=tracer[whichpart[t]][whichmeasure[t]])>.5&&(a=.5),a<.05&&(a=.05),volumes[t]=a)}function thewalk(a){a===numberofmeasures-1?editbarlines[a]===_0x5af3("0xd2")?(editbarlines[a]=_0x5af3("0x80"),directions.push(a),thewalk(dacapofrom)):editdacapos[a]===_0x5af3("0x23")?(editdacapos[a]=_0x5af3("0x80"),readyforfine=!0,readyforcoda=!0,directions[_0x5af3("0x12a")](a),thewalk(segnoplace)):"dacapo"===editdacapos[a]?(editdacapos[a]=_0x5af3("0x80"),readyforfine=!0,readyforcoda=!0,directions[_0x5af3("0x12a")](a),thewalk(0)):directions.push(a):editbarlines[a]===_0x5af3("0xd2")?(editbarlines[a]=_0x5af3("0x80"),1===editendings[a]&&(editendings[a]=0),directions.push(a),thewalk(dacapofrom)):0===editendings[a]?thewalk(a+1):1===editendings[a]?(editendings[a]=0,directions[_0x5af3("0x12a")](a),thewalk(a+1)):2===editendings[a]?(directions[_0x5af3("0x12a")](a),thewalk(a+1)):editdacapos[a]===_0x5af3("0x7")?(segnoplace=a,directions[_0x5af3("0x12a")](a),thewalk(a+1)):editbarlines[a]===_0x5af3("0x189")?(dacapofrom=a,directions[_0x5af3("0x12a")](a),thewalk(a+1)):editdacapos[a]===_0x5af3("0xa6")?!0===readyforcoda?directions[_0x5af3("0x12a")](a):(directions[_0x5af3("0x12a")](a),thewalk(a+1)):editdacapos[a]===_0x5af3("0x23")?(editdacapos[a]=_0x5af3("0x80"),readyforfine=!0,readyforcoda=!0,directions[_0x5af3("0x12a")](a),thewalk(segnoplace)):editdacapos[a]===_0x5af3("0x9d")?(editdacapos[a]=_0x5af3("0x80"),readyforfine=!0,readyforcoda=!0,directions[_0x5af3("0x12a")](a),thewalk(0)):"fine"===editdacapos[a]?!0===readyforfine&&directions[_0x5af3("0x12a")](a):(directions[_0x5af3("0x12a")](a),thewalk(a+1))}function director(){dacapofrom=0,readyforcoda=!1,readyforfine=!1,segnoplace=0,editbarlines=barlines,editendings=endings,editdacapos=dacapos,directions=[],thewalk(0)}function stitch(){resultpitches=[],resultonsets=[],resultlengths=[],resultvolumes=[],resulttranspositions=[],resulttruelengths=[];var a=0;barstamps.push(barstamps[barstamps[_0x5af3("0x5c")]-1]+(barstamps[barstamps[_0x5af3("0x5c")]-1]-barstamps[barstamps[_0x5af3("0x5c")]-2]));for(var x=0;x<directions[_0x5af3("0x5c")];x++){for(numberofbeats=0;numberofbeats<measureproperties[directions[x]][_0x5af3("0x120")];numberofbeats++)resultonsets.push(a+(barstamps[directions[x]+1]-barstamps[directions[x]])/measureproperties[directions[x]][_0x5af3("0x120")]*numberofbeats),resultpitches[_0x5af3("0x12a")]("*"+numberofbeats),resultlengths[_0x5af3("0x12a")](1e3),resultvolumes.push(2),resulttranspositions[_0x5af3("0x12a")](0),resulttruelengths[_0x5af3("0x12a")](1e3);for(var e=0;e<onsets[_0x5af3("0x5c")];e++)whichmeasure[e]===directions[x]&&(resultonsets[_0x5af3("0x12a")](onsets[e]-barstamps[directions[x]]+a),resultpitches[_0x5af3("0x12a")](pitches[e]),resultlengths.push(lengths[e]),resultvolumes[_0x5af3("0x12a")](volumes[e]),resulttranspositions[_0x5af3("0x12a")](transpositions[e]),resulttruelengths[_0x5af3("0x12a")](truelengths[e]));a=a+barstamps[directions[x]+1]-barstamps[directions[x]]}}function makeonsetgrid(){grid=[];for(var a=0;a<resultpitches.length;a++)void 0===grid[Math[_0x5af3("0x5e")](resultonsets[a])]&&(grid[Math[_0x5af3("0x5e")](resultonsets[a])]=[]),resultpitches[a][_0x5af3("0x86")]("&")||resultpitches[a][_0x5af3("0x86")]("*")||grid[Math.round(resultonsets[a])][_0x5af3("0x12a")](resultpitches[a][_0x5af3("0x173")]("o",""))}function addprep(){anyprep=2*barstamps[1];for(var a=0;a<resultonsets[_0x5af3("0x5c")];a++)resultonsets[a]=resultonsets[a]+anyprep;for(numberofbeats=0;numberofbeats<2*measureproperties[1].ts1;numberofbeats++)resultonsets[_0x5af3("0x12a")](barstamps[1]/measureproperties[1].ts1*numberofbeats),resultpitches[_0x5af3("0x12a")]("*"+numberofbeats),resultlengths[_0x5af3("0x12a")](1e3),resultvolumes[_0x5af3("0x12a")](2),resulttranspositions[_0x5af3("0x12a")](0)}function gettonality(){var a=0,x=resultpitches[_0x5af3("0x171")]();(x[_0x5af3("0xa9")](/C#/g)||[]).length+(x.match(/G#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="C#",a=(x[_0x5af3("0xa9")](/C#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/G#/g)||[]).length),(x[_0x5af3("0xa9")](/Cb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Cb",a=(x[_0x5af3("0xa9")](/Cb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/C/g)||[]).length+(x[_0x5af3("0xa9")](/G/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Cb/g)||[]).length-(x.match(/Gb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/G#/g)||[]).length-(x[_0x5af3("0xa9")](/C#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="C",a=(x[_0x5af3("0xa9")](/C/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/G/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Cb/g)||[])[_0x5af3("0x5c")]-(x.match(/Gb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/G#/g)||[])[_0x5af3("0x5c")]-(x.match(/C#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/D#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="D#",a=(x[_0x5af3("0xa9")](/D#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/Db/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Ab/g)||[]).length>a&&(onwhich="Db",a=(x[_0x5af3("0xa9")](/Db/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Ab/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/D/g)||[]).length+(x.match(/A/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Db/g)||[]).length-(x[_0x5af3("0xa9")](/Ab/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/D#/g)-(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]||[])[_0x5af3("0x5c")]>a&&(onwhich="D",a=(x[_0x5af3("0xa9")](/D/g)||[])[_0x5af3("0x5c")]+(x.match(/A/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Db/g)||[])[_0x5af3("0x5c")]-(x.match(/Ab/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/D#/g)-(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]||[])[_0x5af3("0x5c")]),(x.match(/E#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/B#/g)||[]).length>a&&(onwhich="E#",a=(x[_0x5af3("0xa9")](/E#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/B#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/Eb/g)||[]).length+(x[_0x5af3("0xa9")](/Bb/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Eb",a=(x[_0x5af3("0xa9")](/Eb/g)||[]).length+(x[_0x5af3("0xa9")](/Bb/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/E/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/B/g)||[])[_0x5af3("0x5c")]-(x.match(/Eb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/B#/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Bb/g)||[]).length-(x[_0x5af3("0xa9")](/E#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="E",a=(x[_0x5af3("0xa9")](/E/g)||[]).length+(x[_0x5af3("0xa9")](/B/g)||[]).length-(x[_0x5af3("0xa9")](/Eb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/B#/g)||[]).length-(x[_0x5af3("0xa9")](/Bb/g)||[]).length-(x[_0x5af3("0xa9")](/E#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/F#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/C#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="F#",a=(x[_0x5af3("0xa9")](/F#/g)||[]).length+(x[_0x5af3("0xa9")](/C#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/Fb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Cb/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Fb",a=(x[_0x5af3("0xa9")](/Fb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Cb/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/F/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/C/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Fb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/C#/g)||[])[_0x5af3("0x5c")]-(x.match(/Cb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/F#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="F",a=(x[_0x5af3("0xa9")](/F/g)||[]).length+(x[_0x5af3("0xa9")](/C/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Fb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/C#/g)||[]).length-(x[_0x5af3("0xa9")](/Cb/g)||[]).length-(x[_0x5af3("0xa9")](/F#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/G#/g)||[])[_0x5af3("0x5c")]+(x.match(/D#/g)||[]).length>a&&(onwhich="G#",a=(x[_0x5af3("0xa9")](/G#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/D#/g)||[]).length),(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Db/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Gb",a=(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Db/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/G/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/D/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/D#/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Db/g)||[]).length-(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/G#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="G",a=(x[_0x5af3("0xa9")](/G/g)||[])[_0x5af3("0x5c")]+(x.match(/D/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/D#/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Db/g)||[]).length-(x[_0x5af3("0xa9")](/Gb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/G#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/E#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="A#",a=(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]+(x.match(/E#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/Ab/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/Eb/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Ab",a=(x.match(/Ab/g)||[])[_0x5af3("0x5c")]+(x.match(/Eb/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/A/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/E/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Eb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/E#/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Ab/g)||[]).length-(x.match(/A#/g)||[]).length>a&&(onwhich="A",a=(x[_0x5af3("0xa9")](/A/g)||[]).length+(x[_0x5af3("0xa9")](/E/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/Eb/g)||[]).length-(x[_0x5af3("0xa9")](/E#/g)||[]).length-(x[_0x5af3("0xa9")](/Ab/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/A#/g)||[])[_0x5af3("0x5c")]),(x[_0x5af3("0xa9")](/B#/g)||[]).length+(x[_0x5af3("0xa9")](/FX/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="B#",a=(x[_0x5af3("0xa9")](/B#/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/FX/g)||[]).length),(x[_0x5af3("0xa9")](/Bb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/F/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="Bb",a=(x[_0x5af3("0xa9")](/Bb/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/F/g)||[])[_0x5af3("0x5c")]),(x.match(/B/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/F#/g)||[])[_0x5af3("0x5c")]-(x.match(/F/g)||[]).length-(x[_0x5af3("0xa9")](/FX/g)||[])[_0x5af3("0x5c")]-(x.match(/Bb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/B#/g)||[])[_0x5af3("0x5c")]>a&&(onwhich="B",a=(x[_0x5af3("0xa9")](/B/g)||[])[_0x5af3("0x5c")]+(x[_0x5af3("0xa9")](/F#/g)||[]).length-(x.match(/F/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/FX/g)||[])[_0x5af3("0x5c")]-(x.match(/Bb/g)||[])[_0x5af3("0x5c")]-(x[_0x5af3("0xa9")](/B#/g)||[])[_0x5af3("0x5c")])}var trackbeats=0;function superprompt(){var a;trackbeats=-1,notes=[],isplaying=[];for(var x=0;x<resultpitches.length;x++)resultpitches[x].includes("*")?(trackbeats++,a=999+parseInt(resultpitches[x][_0x5af3("0xc5")](1),10)):a="&"===resultpitches[x]?9999:c88(resultpitches[x])+resulttranspositions[x],notes[_0x5af3("0x12a")](a);slider6[_0x5af3("0x2a")]=lastclick(),cheatmode=!0,startprompt=0}function sequence(a){getmeasureproperties(),getforwarddynamicdata(),findpercussion(),gettranspositions(),getmeasuredurations(),printeachmeasure(),maketempoadjustments(),makebarstamps(),convertdurations(),fixpickupmeasure(),fixties(),analyzedynamic(),convertdynamictonum(),applypedal(),director(),stitch(),makeonsetgrid(),anyprep=0,gettonality(),!1===a?playmusic():superprompt()}var createScene=function(){var a=new(BABYLON[_0x5af3("0xc9")])(engine);a.clearColor=new(BABYLON[_0x5af3("0xe3")])(0,0,0),(camera=new(BABYLON[_0x5af3("0x17f")])(_0x5af3("0x17f"),new BABYLON.Vector3(0,0,-10),a))[_0x5af3("0x4b")](BABYLON.Vector3[_0x5af3("0x142")]());var x=new(BABYLON[_0x5af3("0x155")]);x[_0x5af3("0x144")](),camera[_0x5af3("0x1a0")]=x,camera.attachControl(canvas,!0);var e=new(BABYLON[_0x5af3("0x4f")])(_0x5af3("0x2d"),new(BABYLON[_0x5af3("0x17a")])(.2,.2,-1),a);e[_0x5af3("0x13f")]=.95,e.groundColor=new(BABYLON[_0x5af3("0xe3")])(.8,.8,.8);var f=BABYLON.Mesh[_0x5af3("0x129")](_0x5af3("0x67"),100,a),t=new(BABYLON[_0x5af3("0x8d")])(_0x5af3("0x67"),a);t[_0x5af3("0x125")]=!1;var r=["https://raw.githubusercontent.com/BabylonJS/Babylon.js/master/Playground/textures/TropicalSunnyDay"];t[_0x5af3("0x11f")]=new BABYLON.CubeTexture(r[Math[_0x5af3("0x118")](Math.random()*r[_0x5af3("0x5c")])],a),t[_0x5af3("0x11f")][_0x5af3("0xd9")]=BABYLON.Texture.SKYBOX_MODE,t[_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),t[_0x5af3("0x186")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),t[_0x5af3("0x12d")]=!0,f[_0x5af3("0x3f")]=t;var s=new XMLHttpRequest;s[_0x5af3("0x41")](_0x5af3("0x10a"),_0x5af3("0xc")),s[_0x5af3("0xe6")]=_0x5af3("0x169"),s[_0x5af3("0x119")](),s[_0x5af3("0x14a")]=function(){200===s[_0x5af3("0xa5")]&&(database=s.response)};var _=new XMLHttpRequest;_.open(_0x5af3("0x10a"),_0x5af3("0x26")),_[_0x5af3("0xe6")]=_0x5af3("0x169"),_[_0x5af3("0x119")](),_[_0x5af3("0x14a")]=function(){200===_[_0x5af3("0xa5")]&&(shortcuts=_[_0x5af3("0x55")])};var n,o={eachquestion:[{q:"This is Middle C.\nCome play it and hear a story!",a:[39]},{q:_0x5af3("0x24"),a:[1,4,6,16,18,28,30,40,42,52,54,64,66,76,78,9,11,13,21,23,25,33,35,37,45,47,49,57,59,61,69,71,73,81,83,85]},{q:_0x5af3("0x135"),a:[40,42]},{q:"We call this a garage. Can you find each garage?",a:[4,6,16,18,28,30,40,42,52,54,64,66,76,78]},{q:"Next to a garage, we have a house.\nFor example, here is a house of 3 black keys.",a:[45,47,49]},{q:_0x5af3("0x17"),a:[9,11,13,21,23,25,33,35,37,45,47,49,57,59,61,69,71,73,81,83,85]},{q:_0x5af3("0x151"),a:[5,17,29,41,53,65,77]},{q:_0x5af3("0x124"),a:[3,15,27,39,51,63,75]},{q:_0x5af3("0xcb"),a:[7,19,31,43,55,67,79]},{q:_0x5af3("0x48"),a:[7,19,31,43,55,67,79,3,15,27,39,51,63,75,5,17,29,41,53,65,77]},{q:_0x5af3("0x39"),a:[8,14,20,26,32,38,44,50,56,62,68,74,80,86]},{q:_0x5af3("0x89"),a:[8,10,20,22,32,34,44,46,56,58,68,70,80,82]},{q:_0x5af3("0x17d"),a:[12,14,24,26,36,38,48,50,60,62,72,74,84,86]},{q:_0x5af3("0x53"),a:[12,14,24,26,36,38,48,50,60,62,72,74,84,86,8,10,20,22,32,34,44,46,56,58,68,70,80,82]}]};function c(a){return a%12==1||a%12==4||a%12==6||a%12==9||a%12==11}function i(){for(var a=0;a<88;a++)!1===c(a)?spheres[a][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")])(1,1,1):spheres[a][_0x5af3("0x3f")].diffuseColor=new(BABYLON[_0x5af3("0xe3")])(0,0,0)}function u(a){for(var x=0;x<88;x++)switch(a){case 0:particles[x].color2=new(BABYLON[_0x5af3("0xe3")][_0x5af3("0x170")])("#"+scriabin[x%12]);break;case 1:particles[x][_0x5af3("0xb5")]=new(BABYLON.Color3[_0x5af3("0x170")])("#"+boom[x%12]);break;case 2:particles[x][_0x5af3("0x45")]=new(BABYLON[_0x5af3("0xe3")].FromHexString)("#"+boom[x%12]),particles[x][_0x5af3("0xb5")]=new(BABYLON.Color3[_0x5af3("0x170")])("#"+boom[x%12])}}function l(a){switch(colorscheme){case 0:spheres[a][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")][_0x5af3("0x170")])("#"+scriabin[a%12]);break;case 1:spheres[a][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")][_0x5af3("0x170")])("#"+boom[a%12])}}function d(a){speaksomething(o[_0x5af3("0xaa")][a].q),function(a){for(var x=0;x<a[_0x5af3("0x5c")];x++)l(a[x])}(o.eachquestion[a].a),function(a){answertracker=[];for(var x=0;x<88;x++)answertracker[_0x5af3("0x12a")](!0);for(x=0;x<a[_0x5af3("0x5c")];x++)answertracker[a[x]]=!1}(o[_0x5af3("0xaa")][a].a)}function p(){for(var a=0;a<88;a++)if(!0===n[a])return!1;return!0}function h(a){for(var x,e=!0,f=0;f<a[_0x5af3("0x5c")]-1;f++)c88(a[f])>c88(a[f+1])&&(e=!1,x=a[f],a[f]=a[f+1],a[f+1]=x);return!1===e?h(a):a}function m(a,x){for(var e=0;e<a[_0x5af3("0x5c")];e++)if(a[e]===x)return!0;return!1}function b(a){rh=[],lh=[];for(var x=0;x<a[_0x5af3("0x5c")];x++)c88(a[x])+furthertranspose>38?!1===m(rh,a[x])&&rh[_0x5af3("0x12a")](a[x]):!1===m(lh,a[x])&&lh.push(a[x]);for(h(rh),h(lh),x=0;x<rh[_0x5af3("0x5c")];x++)rh[x]=rh[x][_0x5af3("0x173")]("0","/0")[_0x5af3("0x173")]("1","/1")[_0x5af3("0x173")]("2","/2").replace("3","/3")[_0x5af3("0x173")]("4","/4")[_0x5af3("0x173")]("5","/5")[_0x5af3("0x173")]("6","/6")[_0x5af3("0x173")]("7","/7");for(x=0;x<lh.length;x++)lh[x]=lh[x][_0x5af3("0x173")]("0","/0")[_0x5af3("0x173")]("1","/1").replace("2","/2")[_0x5af3("0x173")]("3","/3").replace("4","/4")[_0x5af3("0x173")]("5","/5")[_0x5af3("0x173")]("6","/6")[_0x5af3("0x173")]("7","/7");drawchord(rh,lh)}function g(a){visualprompt=[];for(var x=0;x<resultonsets[_0x5af3("0x5c")];x++)resultonsets[x]>=a&&resultonsets[x]<a+10&&notes[x]+furthertranspose>=0&&notes[x]+furthertranspose<88&&(l(notes[x]+furthertranspose),n[notes[x]+furthertranspose]=!0,visualprompt[_0x5af3("0x12a")](resultpitches[x])),resultonsets[x]<a&&notes[x]>=999&&notes[x]<1999&&(opening[_0x5af3("0x14")]=(notes[x]-998).toString());visualprompt[_0x5af3("0x5c")]>0&&b(visualprompt),!0===p()&&g(startprompt+=10)}var B=0,w=!1;function v(a){if(!0===w)return lastclick();for(var x=B;x<resultonsets[_0x5af3("0x5c")];x++)if(resultonsets[x]>a&&notes[x]>=999&&notes[x]<1999)return B=x,resultonsets[x];return a}function A(x,e,f){switch(colorscheme){case 0:spheres[x][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")][_0x5af3("0x170")])("#"+scriabin[x%12]),particles[x][_0x5af3("0x45")]=new(BABYLON.Color3[_0x5af3("0x170")])("#"+scriabin[x%12]);break;case 1:spheres[x][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")][_0x5af3("0x170")])("#"+boom[x%12]),particles[x][_0x5af3("0x45")]=new(BABYLON[_0x5af3("0xe3")].FromHexString)("#"+boom[x%12])}if(particles[x][_0x5af3("0xc1")](),!0===e)if(spheres[x].translate(BABYLON.Axis.Z,keydepth,BABYLON[_0x5af3("0x50")][_0x5af3("0x19a")]),!1===cheatmode)musics[x][_0x5af3("0x19c")](f,.01),musics[x][_0x5af3("0xb1")](0,0);else if(!0===n[x])for(var t=0;t<88;t++)!0===n[t]&&(n[t]=!1,musics[t].setVolume(f,.01),musics[t].play(0,0,2));quizmode>-1&&(!1===answertracker[x]&&function(x){var e;switch(x%12){case 0:e=_0x5af3("0x18f");break;case 1:e=_0x5af3("0xc7");break;case 2:e=_0x5af3("0x168");break;case 3:e=_0x5af3("0xe4");break;case 4:e=_0x5af3("0x9a");break;case 5:e=_0x5af3("0xba");break;case 6:e=_0x5af3("0x70");break;case 7:e=_0x5af3("0x87");break;case 8:e=_0x5af3("0x91");break;case 9:e=_0x5af3("0xc7");break;case 10:e="https://raw.githubusercontent.com/lucastwong/lucastwong.github.io/master/Ground.mp3";break;case 11:e=_0x5af3("0xc7")}musiceffect=new BABYLON.Sound(_0x5af3("0x141"),e,a,function(){musiceffect[_0x5af3("0x19c")](.3,.01),musiceffect.play()})}(x),answertracker[x]=!0)}function y(a){!1===c(a)?(spheres[a][_0x5af3("0x56")].z=0,spheres[a].material[_0x5af3("0xa7")]=new BABYLON.Color3(1,1,1)):(spheres[a][_0x5af3("0x56")].z=blackkeyout,spheres[a][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0)),musics[a].setVolume(0,.5),!0===cheatmode&&!0===p()&&(i(),g(startprompt+=10)),quizmode>-1&&!0===function(){for(var a=0;a<88;a++)if(!1===answertracker[a])return!1;return!0}()&&(o[_0x5af3("0xaa")].length-1===quizmode?(speaksomething(_0x5af3("0x44")),quizmode=-1):d(++quizmode))}function N(a){!1===c(a)?spheres[a][_0x5af3("0x3f")][_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")])(1,1,1):spheres[a].material.diffuseColor=new(BABYLON[_0x5af3("0xe3")])(0,0,0)}var O=[];function L(a,x){visualprompt=[],currentime=new Date,nowclick=60*currentime[_0x5af3("0x88")]()*60*1e3+60*currentime[_0x5af3("0x2")]()*1e3+1e3*currentime[_0x5af3("0x7c")]()+currentime.getMilliseconds();for(var e=0;e<notes[_0x5af3("0x5c")];e++)if((notes[e]+furthertranspose>-1&&notes[e]+furthertranspose<88||notes[e]>=999&&notes[e]<1999||9999===notes[e]||99999===notes[e])&&resultonsets[e]>=a){let f=notes[e]+furthertranspose,t=(resultpitches[e],resultlengths[e]),r=resulttruelengths[e],s=resultonsets[e],_=resultvolumes[e],n=setTimeout(()=>{f<999&&(A(f,!1,0),btpp[f][_0x5af3("0x19c")]((_+slider333[_0x5af3("0x98")])/2,.01),btpp[f].play(0,0),setTimeout(function(){N(f)},r*x*.9),clearInterval(O[f]),O[f]=setTimeout(function(){btpp[f][_0x5af3("0x19c")](0,.2)},(r+(t-r)*pedalpercent)*x),grid[Math.round(s-anyprep)][_0x5af3("0x5c")]>0&&b(grid[Math[_0x5af3("0x5e")](s-anyprep)])),f-furthertranspose>=999&&f-furthertranspose<1999&&(opening.text=(f-furthertranspose-998)[_0x5af3("0x171")]())},(resultonsets[e]-a)*x);isplaying[_0x5af3("0x12a")](n)}}!function(){var a=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];(k=[])[_0x5af3("0x12a")]("A0"),k[_0x5af3("0x12a")](_0x5af3("0x27")),k[_0x5af3("0x12a")]("B0");for(var x=1;x<8;x++)for(var e=0;e<12;e++)k.push(a[e]+x);k[_0x5af3("0x12a")]("C8")}(),function(){links=[],downup=[];for(var a=0;a<88;a++)links[_0x5af3("0x12a")](_0x5af3("0xcf")+k[a]+_0x5af3("0x106")),downup[_0x5af3("0x12a")](0)}(),function(){musics=[],btpp=[];for(var x={loop:!1,autoplay:!1,spatialSound:!1,maxDistance:4e3},e=0;e<88;e++){var f=new(BABYLON[_0x5af3("0x72")])("Tone"+e,links[e],a,function(){},x),t=new(BABYLON[_0x5af3("0x72")])("pp"+e,links[e],a,function(){},x);musics.push(f),btpp.push(t)}}(),function(){for(var x=0,e=0,f=0;f<88;f++){new(BABYLON[_0x5af3("0xc8")])(_0x5af3("0x65"),20,a,!0);var t=new(BABYLON[_0x5af3("0x8d")])(_0x5af3("0x4d"),a);t[_0x5af3("0xa7")]=new BABYLON.Color3(1,1,1),t[_0x5af3("0x191")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),t[_0x5af3("0x186")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),t[_0x5af3("0x172")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0);var r=new(BABYLON[_0x5af3("0x8d")])(_0x5af3("0x162"),a);if(r[_0x5af3("0xa7")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),r[_0x5af3("0x191")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),r[_0x5af3("0x186")]=new(BABYLON[_0x5af3("0xe3")])(0,0,0),r.emissiveColor=new(BABYLON[_0x5af3("0xe3")])(0,0,0),!1===c(f)){var s,_,n=new Array(6);if(n[2]=new(BABYLON[_0x5af3("0x61")])(.54,.27,.07,1),n[3]=new(BABYLON[_0x5af3("0x61")])(.54,.27,.07,1),(i=BABYLON[_0x5af3("0x1a4")].CreateBox(_0x5af3("0x42")+f,{height:4-blackkeylength,width:.805,depth:.84,faceColors:n},a)).position=new(BABYLON[_0x5af3("0x17a")])(.84*x-21.84,-blackkeylength/2,0),0!==f&&87!==f)var o=BABYLON.MeshBuilder[_0x5af3("0x129")](_0x5af3("0x42")+f,{height:4,width:.505,depth:.84,faceColors:n},a);if(0===f)(s=BABYLON[_0x5af3("0x1a4")].CreateBox(_0x5af3("0x42")+f,{height:4,width:.725,depth:.84,faceColors:n},a)).position=new(BABYLON[_0x5af3("0x17a")])(.84*x-.04-21.84,0,0);else if(87===f)(s=BABYLON[_0x5af3("0x1a4")][_0x5af3("0x129")](_0x5af3("0x42")+f,{height:4,width:.805,depth:.84,faceColors:n},a))[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x-21.84,0,0);else switch(o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x-21.84,0,0),f%12){case 0:o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x+.0675-21.84,0,0);break;case 2:o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x+.15-21.84,0,0);break;case 3:o.position=new(BABYLON[_0x5af3("0x17a")])(.84*x-.1575-21.84,0,0);break;case 5:o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x-21.84,0,0);break;case 7:o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x+.1575-21.84,0,0);break;case 8:o[_0x5af3("0x56")]=new BABYLON.Vector3(.84*x-.15-21.84,0,0);break;case 10:o[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(.84*x-.0675-21.84,0,0)}(_=0===f||87===f?BABYLON.Mesh.MergeMeshes([i,s]):BABYLON[_0x5af3("0x19")][_0x5af3("0xce")]([i,o]))[_0x5af3("0x3f")]=t,musics[f].attachToMesh(_),_[_0x5af3("0xf3")]=_[_0x5af3("0xf3")][_0x5af3("0xc5")](0,_[_0x5af3("0xf3")][_0x5af3("0x76")]("_")),spheres[_0x5af3("0x12a")](_),whiteforparticle[f]=o,x++}else{var i;switch((i=BABYLON[_0x5af3("0x1a4")][_0x5af3("0x129")](_0x5af3("0x42")+f,{height:blackkeylength,width:.469,depth:.84},a))[_0x5af3("0x3f")]=r,f%12){case 1:i[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(1.26-.455-.245+5.88*Math[_0x5af3("0x118")](e/5)-21.84,(4-blackkeylength)/2,blackkeyout);break;case 4:i[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(1.26+.525+.245+5.88*Math[_0x5af3("0x118")](e/5)-21.84,(4-blackkeylength)/2,blackkeyout);break;case 6:i[_0x5af3("0x56")]=new BABYLON.Vector3(1.26+.525+1.225+5.88*Math.floor(e/5)-21.84,(4-blackkeylength)/2,blackkeyout);break;case 9:i[_0x5af3("0x56")]=new(BABYLON[_0x5af3("0x17a")])(3.78+.455+.245+5.88*Math[_0x5af3("0x118")](e/5)-21.84,(4-blackkeylength)/2,blackkeyout);break;case 11:i.position=new(BABYLON[_0x5af3("0x17a")])(3.78+.455+1.225+5.88*Math[_0x5af3("0x118")](e/5)-21.84,(4-blackkeylength)/2,blackkeyout)}musics[f][_0x5af3("0xda")](i),spheres[_0x5af3("0x12a")](i),e++}}}(),function(){for(var x=0;x<88;x++){var e=new(BABYLON[_0x5af3("0xec")])(_0x5af3("0x0")+x,20,a);e[_0x5af3("0xe1")]=new(BABYLON[_0x5af3("0xe2")])(_0x5af3("0x93"),a),c[x]?e[_0x5af3("0x14d")]=spheres[x]:e[_0x5af3("0x14d")]=whiteforparticle[x],e.minEmitBox=new(BABYLON[_0x5af3("0x17a")])(-.5,0,-.5),e.maxEmitBox=new(BABYLON[_0x5af3("0x17a")])(.5,0,.5),e[_0x5af3("0x7a")]=new BABYLON.Color4(0,0,0,0),e.minSize=(100-x)/100,e[_0x5af3("0xa4")]=(100-x)/100,e.minLifeTime=.1,e.maxLifeTime=2,e[_0x5af3("0xab")]=100,e.blendMode=BABYLON[_0x5af3("0xec")][_0x5af3("0x13b")],e[_0x5af3("0x6f")]=new(BABYLON[_0x5af3("0x17a")])(0,0,0),e[_0x5af3("0x1f")]=new(BABYLON[_0x5af3("0x17a")])(-1,1,1),e[_0x5af3("0xf2")]=new(BABYLON[_0x5af3("0x17a")])(1,1,1),e[_0x5af3("0x153")]=x/1e3,e[_0x5af3("0x83")]=x/1e3,e.minEmitPower=x/3,e[_0x5af3("0x18b")]=x/3,e[_0x5af3("0x1a3")]=(100-x)/50,e.disposeOnStop=!1,particles[_0x5af3("0x12a")](e)}}(),function(){n=[];for(var a=0;a<88;a++)n[_0x5af3("0x12a")](!1)}(),u(1),advancedTexture=BABYLON[_0x5af3("0xea")][_0x5af3("0x15d")][_0x5af3("0x58")]("UI"),(panel2=new BABYLON.GUI.StackPanel)[_0x5af3("0x156")]=.3,panel2.horizontalAlignment=BABYLON[_0x5af3("0xea")].Control[_0x5af3("0x145")],panel2[_0x5af3("0x16")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].VERTICAL_ALIGNMENT_TOP,advancedTexture[_0x5af3("0x63")](panel2),(header2=new(BABYLON[_0x5af3("0xea")].TextBlock))[_0x5af3("0x14")]="Zoom",header2[_0x5af3("0x62")]=_0x5af3("0x110"),header2[_0x5af3("0x10d")]=_0x5af3("0x4d"),panel2.top=_0x5af3("0xff"),panel2[_0x5af3("0x63")](header2),(slider2=new BABYLON.GUI.Slider)[_0x5af3("0x47")]=-50,slider2.maximum=-1,slider2[_0x5af3("0x98")]=-10,slider2[_0x5af3("0x62")]=_0x5af3("0xff"),slider2[_0x5af3("0x10d")]=_0x5af3("0x37"),slider2[_0x5af3("0xbf")]=0,slider2.alpha=1,slider2[_0x5af3("0x19f")][_0x5af3("0x126")](function(a){camera[_0x5af3("0x56")].z=a}),panel2[_0x5af3("0x63")](slider2),(panel6=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x9f")]))[_0x5af3("0x156")]=.4,panel6[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")].Control.HORIZONTAL_ALIGNMENT_CENTER,panel6[_0x5af3("0x16")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")],panel6[_0x5af3("0x1c")]=_0x5af3("0x21"),advancedTexture[_0x5af3("0x63")](panel6),(slider6=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x198")]))[_0x5af3("0x47")]=-.1,slider6[_0x5af3("0x2a")]=999,slider6[_0x5af3("0x98")]=0,slider6.height=_0x5af3("0xff"),slider6.color=_0x5af3("0x37"),slider6.thickness=0,slider6.alpha=1,slider6[_0x5af3("0x19f")].add(function(a){0===whichclick&&(!function(a){B=0,thetempo=1,currentime=new Date,previousclick=60*currentime[_0x5af3("0x88")]()*60*1e3+60*currentime[_0x5af3("0x2")]()*1e3+1e3*currentime[_0x5af3("0x7c")]()+currentime.getMilliseconds();for(var x=0;x<88;x++)!0===n[x]&&(n[x]=!1);i(),startprompt=v(a)}(a),g(a))});var T=0,Y=function(){currentime=new Date,T=60*currentime.getHours()*60*1e3+60*currentime.getMinutes()*1e3+1e3*currentime[_0x5af3("0x7c")]()+currentime[_0x5af3("0x13d")]()-nowclick,clearInterval(clr),i();for(var a=0;a<isplaying[_0x5af3("0x5c")];a++)clearInterval(isplaying[a])};(panel22=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x9f")]))[_0x5af3("0x156")]=.25,panel22[_0x5af3("0xf9")]=BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x165")],panel22[_0x5af3("0x16")]=BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x175")],(header22=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x138")]))[_0x5af3("0x14")]=_0x5af3("0xf8"),header22.height=_0x5af3("0x110"),header22.color=_0x5af3("0x4d"),panel22[_0x5af3("0x1c")]="-100px",panel22[_0x5af3("0x63")](header22),(slider22=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x198")]))[_0x5af3("0x47")]=-12,slider22.maximum=12,slider22[_0x5af3("0x98")]=0,slider22[_0x5af3("0x62")]=_0x5af3("0xff"),slider22[_0x5af3("0x10d")]=_0x5af3("0x37"),slider22[_0x5af3("0xbf")]=0,slider22[_0x5af3("0xca")]=1,slider22.onValueChangedObservable.add(function(a){advancedTexture.removeControl(panel33),furthertranspose=Math[_0x5af3("0x5e")](a),mathsymbol=furthertranspose>=1?"+":"",header22[_0x5af3("0x14")]=_0x5af3("0x92")+mathsymbol+furthertranspose,!0===teaching&&b(visualprompt)}),panel22[_0x5af3("0x63")](slider22),(panel33=new(BABYLON.GUI[_0x5af3("0x9f")]))[_0x5af3("0x156")]=.15,panel33[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x148")],panel33[_0x5af3("0x16")]=BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x175")],(header33=new(BABYLON[_0x5af3("0xea")].TextBlock)).text="Auto OFF",header33[_0x5af3("0x62")]=_0x5af3("0x110"),header33[_0x5af3("0x10d")]=_0x5af3("0x4d"),panel33[_0x5af3("0x1c")]=_0x5af3("0x21"),panel33[_0x5af3("0x63")](header33),(slider33=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x198")]))[_0x5af3("0x47")]=0,slider33[_0x5af3("0x2a")]=1,slider33.value=0,slider33.height="20px",slider33[_0x5af3("0x10d")]=_0x5af3("0x37"),slider33.thickness=0,slider33.alpha=1,slider33[_0x5af3("0xd6")][_0x5af3("0x126")](function(a){switch(!0===w?(slider33[_0x5af3("0x98")]=0,w=!1):(slider33[_0x5af3("0x98")]=1,w=!0),w){case!1:header33.text="Auto OFF",Y(),teaching=!0,slider6[_0x5af3("0x98")]=slider6[_0x5af3("0x98")]+T*(1/thetempo),advancedTexture[_0x5af3("0x63")](panel22),panel6[_0x5af3("0x63")](slider6);break;case!0:header33.text="Auto ON",teaching=!1,advancedTexture[_0x5af3("0x82")](panel22),panel6[_0x5af3("0x82")](slider6),L(startprompt,thetempo)}}),panel33[_0x5af3("0x63")](slider33),(panel333=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x9f")]))[_0x5af3("0x156")]=.3,panel333[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].HORIZONTAL_ALIGNMENT_RIGHT,panel333.verticalAlignment=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].VERTICAL_ALIGNMENT_BOTTOM,(header333=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x138")]))[_0x5af3("0x14")]=_0x5af3("0xd3"),header333[_0x5af3("0x62")]=_0x5af3("0x110"),header333[_0x5af3("0x10d")]="white",panel333[_0x5af3("0x63")](header333),(slider333=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x198")]))[_0x5af3("0x47")]=.1,slider333[_0x5af3("0x2a")]=.9,slider333.value=.5,slider333.height=_0x5af3("0xff"),slider333.color=_0x5af3("0x37"),slider333[_0x5af3("0xbf")]=0,slider333[_0x5af3("0xca")]=1,panel333[_0x5af3("0x63")](slider333),advancedTexture[_0x5af3("0x63")](panel333),slider333[_0x5af3("0x19f")][_0x5af3("0x126")](function(a){currentvol=slider333[_0x5af3("0x98")]/10}),(panel3=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x9f")]))[_0x5af3("0x156")]=.3,panel3[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x148")],panel3.verticalAlignment=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x84")],advancedTexture[_0x5af3("0x63")](panel3),(header3=new(BABYLON[_0x5af3("0xea")].TextBlock))[_0x5af3("0x14")]=_0x5af3("0xfb"),header3[_0x5af3("0x62")]=_0x5af3("0x110"),header3.color=_0x5af3("0x4d"),panel3[_0x5af3("0x1c")]=_0x5af3("0xff"),panel3[_0x5af3("0x63")](header3),(slider3=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x198")]))[_0x5af3("0x47")]=.1,slider3[_0x5af3("0x2a")]=1,slider3[_0x5af3("0x98")]=1,slider3[_0x5af3("0x62")]=_0x5af3("0xff"),slider3.color=_0x5af3("0x147"),slider3[_0x5af3("0xbf")]=0,slider3.alpha=1,slider3.onValueChangedObservable[_0x5af3("0x126")](function(a){var x=Math.round(100*a);header3.text=_0x5af3("0xf0")+x+"%",pedalpercent=x/100}),panel3[_0x5af3("0x63")](slider3),slider[_0x5af3("0x136")]=function(){var a=Math[_0x5af3("0x118")](this.value);c(a)&&a--,camera[_0x5af3("0x56")].x=5.88*Math[_0x5af3("0x118")](a/12)+.84*countwhite(a)-21.84},(panel4=new(BABYLON.GUI[_0x5af3("0x9f")]))[_0x5af3("0x156")]=.3,panel4[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].HORIZONTAL_ALIGNMENT_LEFT,panel4[_0x5af3("0x16")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].VERTICAL_ALIGNMENT_TOP,advancedTexture[_0x5af3("0x63")](panel4),(header4=new(BABYLON.GUI[_0x5af3("0x138")]))[_0x5af3("0x14")]="Turn L/R",header4[_0x5af3("0x62")]="25px",header4[_0x5af3("0x10d")]=_0x5af3("0x4d"),panel4[_0x5af3("0x1c")]=_0x5af3("0xff"),panel4[_0x5af3("0x63")](header4),(slider4=new(BABYLON.GUI[_0x5af3("0x198")]))[_0x5af3("0x47")]=-1.2,slider4[_0x5af3("0x2a")]=1.2,slider4[_0x5af3("0x98")]=0,slider4[_0x5af3("0x62")]="20px",slider4.color=_0x5af3("0x37"),slider4[_0x5af3("0xbf")]=0,slider4[_0x5af3("0xca")]=1,slider4[_0x5af3("0x19f")].add(function(a){camera.rotation.y=a}),panel4.addControl(slider4),(panel5=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x9f")])).width=.3,panel5[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].HORIZONTAL_ALIGNMENT_CENTER,panel5[_0x5af3("0x16")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")],(header5=new BABYLON.GUI.TextBlock)[_0x5af3("0x14")]="Tempo: 100%",header5[_0x5af3("0x62")]=_0x5af3("0x110"),header5[_0x5af3("0x10d")]="white",panel5[_0x5af3("0x1c")]=_0x5af3("0x21"),(slider5=new(BABYLON[_0x5af3("0xea")].Slider)).minimum=50,slider5[_0x5af3("0x2a")]=200,slider5.value=100,slider5[_0x5af3("0x62")]="20px",slider5.color=_0x5af3("0x37"),slider5.thickness=0,slider5[_0x5af3("0xca")]=1,slider5[_0x5af3("0x19f")][_0x5af3("0x126")](function(a){header5[_0x5af3("0x14")]=_0x5af3("0x3a")+Math[_0x5af3("0x118")](slider5[_0x5af3("0x98")])+"%",usertempo=1/(slider5.value/100)}),panel5[_0x5af3("0x63")](slider5);function C(a,x,e){quizmode=-1;var f=new XMLHttpRequest;f[_0x5af3("0x41")]("GET",a),f[_0x5af3("0xe6")]=_0x5af3("0x14"),f[_0x5af3("0x119")](),f.onload=function(){200===f[_0x5af3("0xa5")]&&(usertempo=!0===x?1/(1*slider5.value/100):1/(database[_0x5af3("0x22")][droptheneedle][_0x5af3("0x3d")]/100*slider5.value/100),sheetmusic=f.response,result=xmlToJSON[_0x5af3("0x43")](sheetmusic,myOptions),sequence(e))}}function M(){button1[_0x5af3("0x4c")]=_0x5af3("0x20"),panel5[_0x5af3("0x82")](header5),opening.text="",advancedTexture[_0x5af3("0x63")](button10),serialremove([panel5,button3])}var F=function(){switch(u(colorscheme),colorscheme){case 0:colorscheme=1,advancedTexture[_0x5af3("0x82")](button10),(button10=makeabutton(_0x5af3("0x103"),.2,.075,_0x5af3("0x4d"),_0x5af3("0x181"),0,1,BABYLON[_0x5af3("0xea")].Control.HORIZONTAL_ALIGNMENT_RIGHT,BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x175")])).top="-100px",button10[_0x5af3("0xd6")][_0x5af3("0x126")](F),advancedTexture.addControl(button10);break;case 1:colorscheme=2,advancedTexture[_0x5af3("0x82")](button10),(button10=makeabutton(_0x5af3("0xac"),.2,.075,_0x5af3("0x4d"),_0x5af3("0x181"),0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].HORIZONTAL_ALIGNMENT_RIGHT,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0x1c")]=_0x5af3("0x21"),button10[_0x5af3("0xd6")][_0x5af3("0x126")](F),advancedTexture[_0x5af3("0x63")](button10);break;case 2:colorscheme=0,advancedTexture.removeControl(button10),(button10=makeabutton(_0x5af3("0x7f"),.2,.075,"white",_0x5af3("0x181"),0,1,BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x148")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0x1c")]=_0x5af3("0x21"),button10[_0x5af3("0xd6")][_0x5af3("0x126")](F),advancedTexture[_0x5af3("0x63")](button10)}i()},I=1,E=!1;return(button1=makeabutton(_0x5af3("0xb"),.2,.075,_0x5af3("0x4d"),_0x5af3("0x181"),0,1,BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x165")],BABYLON[_0x5af3("0xea")].Control[_0x5af3("0x175")]))[_0x5af3("0xd6")][_0x5af3("0x126")](function(){document[_0x5af3("0xc3")](_0x5af3("0xe"))[_0x5af3("0x64")]=_0x5af3("0x12b");for(var a=0;a<shortcuts[_0x5af3("0x22")][_0x5af3("0x5c")];a++)""!==shortcuts.presets[a][_0x5af3("0xf3")]&&(document[_0x5af3("0xc3")](_0x5af3("0xe"))[_0x5af3("0x64")]+=_0x5af3("0x6d")+a+_0x5af3("0xbc")+shortcuts.presets[a][_0x5af3("0xf3")]+_0x5af3("0x29"));document[_0x5af3("0xc3")](_0x5af3("0xe"))[_0x5af3("0x1a2")].width=_0x5af3("0x127")}),advancedTexture[_0x5af3("0x63")](button1),(button111=makeabutton("Note by Note",.2,.075,"black",_0x5af3("0x37"),0,1,BABYLON[_0x5af3("0xea")].Control[_0x5af3("0x165")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0xd6")][_0x5af3("0x126")](function(){serialadd([panel33]),!0===w&&(w=!1,header33[_0x5af3("0x14")]=_0x5af3("0x18d"),Y(),slider6[_0x5af3("0x98")]=startprompt+T*(1/thetempo),slider33[_0x5af3("0x98")]=0,advancedTexture[_0x5af3("0x63")](panel22),panel6[_0x5af3("0x63")](slider6)),whichclick=1,quizmode=-1,previousclick=void 0;for(var a=0;a<88;a++)!0===n[a]&&(n[a]=!1,!1===E?(musics[a][_0x5af3("0x19c")](1,.01),musics[a][_0x5af3("0xb1")](0,0,2)):E=!1);i(),1!==I&&(startprompt+=10),I=0,slider6[_0x5af3("0x98")]=startprompt,whichclick=0,g(startprompt)}),(opening=new(BABYLON[_0x5af3("0xea")][_0x5af3("0x138")]))[_0x5af3("0x14")]=_0x5af3("0x137"),opening[_0x5af3("0xf9")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x145")],opening[_0x5af3("0x16")]=BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x84")],opening.color=_0x5af3("0x7e"),opening[_0x5af3("0xf7")]=24,opening[_0x5af3("0xfd")]=!0,opening[_0x5af3("0x1c")]=_0x5af3("0x2b"),advancedTexture.addControl(opening),(button2=makeabutton("Find Middle C",.2,.075,_0x5af3("0x4d"),_0x5af3("0x20"),0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")].HORIZONTAL_ALIGNMENT_CENTER,BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0xd6")][_0x5af3("0x126")](function(){camera[_0x5af3("0x56")].x=5.88*Math[_0x5af3("0x118")](3.25)+.84*countwhite(39)-21.84,camera[_0x5af3("0x1d")].y=0,camera[_0x5af3("0x56")].z=-50,slider2[_0x5af3("0x98")]=-50,slider[_0x5af3("0x98")]=39,slider4[_0x5af3("0x98")]=0,quizmode=0,advancedTexture[_0x5af3("0x82")](button22),d(0),!1===alreadydid&&BABYLON[_0x5af3("0x16f")].ImportMesh(_0x5af3("0x132"),_0x5af3("0x6a"),_0x5af3("0x15e"),a,function(x,e,f){alreadydid=!0;var t=x[1];t.scaling=new(BABYLON[_0x5af3("0x17a")])(.05,.05,.05),t.position=new(BABYLON[_0x5af3("0x17a")])(-2.52,1.7,-1),t[_0x5af3("0x108")](BABYLON[_0x5af3("0x11d")].Y,Math.PI,BABYLON.Space[_0x5af3("0x19a")]),a[_0x5af3("0x11")](f[0],0,100,!0,.8)})}),advancedTexture.addControl(button2),(button22=makeabutton(_0x5af3("0x54"),.5,.3,_0x5af3("0x4d"),_0x5af3("0x181"),0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x145")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x74")]))[_0x5af3("0xd6")][_0x5af3("0x126")](function(){teachingsetup(),serialadd([panel22,button21,button111]),serialremove([button11,button10,button2,button3,button22]),quizmode=-1,panel6[_0x5af3("0x63")](slider6),panel5[_0x5af3("0x82")](slider5),header5[_0x5af3("0x14")]="",C(userlink,!0,!0)}),(button3=makeabutton(_0x5af3("0x187"),.5,.3,_0x5af3("0x4d"),_0x5af3("0x181"),0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x145")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x74")]))[_0x5af3("0xd6")][_0x5af3("0x126")](function(){teaching=!1,quizmode=-1,advancedTexture[_0x5af3("0x82")](button22),serialadd([button1]),null!==userlink&&""!==userlink?userlink[_0x5af3("0x11a")](_0x5af3("0x163"))&&(M(),C(userlink,!0,!1)):(M(),droptheneedle=Math.floor(Math[_0x5af3("0xf1")]()*database[_0x5af3("0x22")][_0x5af3("0x5c")]),C(database[_0x5af3("0x22")][droptheneedle][_0x5af3("0x150")],!1,!1))}),(button21=makeabutton(_0x5af3("0x32"),.2,.075,"white","red",0,1,BABYLON.GUI[_0x5af3("0xef")][_0x5af3("0x145")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0xd6")].add(function(){speaksomething(_0x5af3("0xdc")),teaching=!1,!0===w&&(w=!1,header33.text=_0x5af3("0x18d"),Y()),furthertranspose=0,slider22[_0x5af3("0x98")]=0,w=!1,slider33[_0x5af3("0x98")]=0,serialremove([panel22,panel33,button21,button111,panel5,button3,button22]),serialadd([button1,button10,button11,button2]),quizmode=-1,B=0,previousclick=void 0,cheatmode=!1,button1[_0x5af3("0x4c")]="green",panel5[_0x5af3("0x82")](header5),slider6[_0x5af3("0x98")]=0,startprompt=0,panel6[_0x5af3("0x82")](slider6),document.getElementById(_0x5af3("0x95")).innerHTML="",document[_0x5af3("0xc3")](_0x5af3("0x95"))[_0x5af3("0x1a2")][_0x5af3("0x156")]="0"}),(button10=makeabutton(_0x5af3("0x103"),.2,.075,_0x5af3("0x4d"),"green",0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x148")],BABYLON[_0x5af3("0xea")].Control[_0x5af3("0x175")])).top=_0x5af3("0x21"),button10[_0x5af3("0xd6")][_0x5af3("0x126")](F),advancedTexture[_0x5af3("0x63")](button10),(button11=makeabutton(_0x5af3("0x140"),.2,.075,_0x5af3("0x162"),_0x5af3("0x37"),0,1,BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x165")],BABYLON[_0x5af3("0xea")][_0x5af3("0xef")][_0x5af3("0x175")]))[_0x5af3("0x1c")]="-100px",button11[_0x5af3("0xd6")].add(function(){speaksomething("Please enter the Dropbox link or a passcode given by our admin."),teaching=!1,quizmode=-1,Y(),(userlink=window[_0x5af3("0x51")](_0x5af3("0x195"),""))[_0x5af3("0x86")](_0x5af3("0xde"))&&(userlink=userlink[_0x5af3("0x173")]("www","dl")[_0x5af3("0x173")](_0x5af3("0xb7"),"")),setTimeout(()=>{BABYLON[_0x5af3("0x77")].audioEngine[_0x5af3("0x185")].resume()},500),userlink[_0x5af3("0x1e")]()[_0x5af3("0x160")]("4d")&&(userlink=function(a){a=(a=a[_0x5af3("0xe8")]())[_0x5af3("0x173")](/4d/gi,"");for(var x=0;x<shortcuts[_0x5af3("0x22")][_0x5af3("0x5c")];x++)if(shortcuts[_0x5af3("0x22")][x][_0x5af3("0x16a")][_0x5af3("0x1e")]()===a.toLowerCase())return shortcuts[_0x5af3("0x22")][x].link;return""}(userlink)),needle=!0,serialremove([button10,button1,button111]),serialadd([button22]),speaksomething(_0x5af3("0x117"))}),advancedTexture[_0x5af3("0x63")](button11),a[_0x5af3("0x94")].add(x=>{switch(x[_0x5af3("0x3")]){case BABYLON[_0x5af3("0xaf")][_0x5af3("0xf5")]:var e=parseInt(x[_0x5af3("0x16d")][_0x5af3("0x12f")].name.substr(6),10);x[_0x5af3("0x16d")][_0x5af3("0x12f")][_0x5af3("0xf3")]!==_0x5af3("0x67")&&x[_0x5af3("0x16d")][_0x5af3("0x12f")][_0x5af3("0xf3")]!==_0x5af3("0x5")?(1!==downup[e]&&(downup[e]=1,(yourtouch=x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0x52")||x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0xe9")?x[_0x5af3("0x71")][_0x5af3("0x161")]:.1)>.1&&(yourtouch=.1),yourtouch<.01&&(yourtouch=.01),A(e,!0,(slider333[_0x5af3("0x98")]+10*yourtouch)/2)),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=e):(x.pickInfo.pickedMesh[_0x5af3("0xf3")]===_0x5af3("0x67")&&!0===teaching&&(x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0x52")||x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0xe9")?((yourtouch=x[_0x5af3("0x71")][_0x5af3("0x161")])>lastpressure&&(currentvol+=.01),yourtouch<lastpressure&&(currentvol-=.01),currentvol>.09&&(currentvol=.09),currentvol<.01&&(currentvol=.01),lastpressure=yourtouch,slider333[_0x5af3("0x98")]=10*currentvol):yourtouch=slider333.value,function(a){I=1,E=!0,visualprompt=[],serialadd([panel33]),!0===w?(w=!1,header33[_0x5af3("0x14")]=_0x5af3("0x18d"),Y(),slider6.value=startprompt+T,slider33[_0x5af3("0x98")]=0,advancedTexture[_0x5af3("0x63")](panel22),panel6[_0x5af3("0x63")](slider6)):thetempo=1,whichclick=1,quizmode=-1,void 0===previousclick?(currentime=new Date,previousclick=60*currentime[_0x5af3("0x88")]()*60*1e3+60*currentime[_0x5af3("0x2")]()*1e3+1e3*currentime[_0x5af3("0x7c")]()+currentime[_0x5af3("0x13d")]()):(currentime=new Date,nowclick=60*currentime[_0x5af3("0x88")]()*60*1e3+60*currentime[_0x5af3("0x2")]()*1e3+1e3*currentime[_0x5af3("0x7c")]()+currentime[_0x5af3("0x13d")](),thetempo=thetempo<=(nowclick-previousclick)/(v(startprompt)-startprompt)/2?thetempo:(nowclick-previousclick)/(v(startprompt)-startprompt),previousclick=nowclick);for(var x=0;x<notes[_0x5af3("0x5c")];x++){if(notes[x]+furthertranspose>-1&&notes[x]+furthertranspose<88&&resultonsets[x]>=startprompt&&resultonsets[x]<v(startprompt)){let e=notes[x]+furthertranspose,f=resultlengths[x],t=resulttruelengths[x],r=(resultvolumes[x],setTimeout(()=>{A(e,!1,0),btpp[e].setVolume(a,.01),btpp[e].play(0,0),setTimeout(function(){N(e)},t*thetempo*.9),clearInterval(O[e]),O[e]=setTimeout(function(){btpp[e][_0x5af3("0x19c")](0,.2)},(t+(f-t)*pedalpercent*1.5)*thetempo)},(resultonsets[x]-startprompt)*thetempo));visualprompt[_0x5af3("0x12a")](resultpitches[x]),isplaying[_0x5af3("0x12a")](r)}resultonsets[x]>=startprompt&&resultonsets[x]<v(startprompt)&&notes[x]>=999&&notes[x]<1999&&(opening[_0x5af3("0x14")]=(notes[x]-998)[_0x5af3("0x171")]())}visualprompt[_0x5af3("0x5c")]>0&&b(visualprompt),i(),startprompt=v(startprompt),slider6.value=startprompt,whichclick=0}(slider333[_0x5af3("0x98")])),fingers[x[_0x5af3("0x71")].pointerId]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x.event[_0x5af3("0x97")]]),fingers[x.event[_0x5af3("0x97")]]=-1);break;case BABYLON[_0x5af3("0xaf")][_0x5af3("0x16c")]:e=parseInt(x.pickInfo.pickedMesh[_0x5af3("0xf3")].substr(6),10);"skyBox"!==x[_0x5af3("0x16d")].pickedMesh[_0x5af3("0xf3")]&&x[_0x5af3("0x16d")][_0x5af3("0x12f")][_0x5af3("0xf3")]!==_0x5af3("0x5")?(1!==downup[e]&&(downup[e]=1,(yourtouch=x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0x52")||x.event.pointerType===_0x5af3("0xe9")?x[_0x5af3("0x71")][_0x5af3("0x161")]:.1)>.1&&(yourtouch=.1),yourtouch<.01&&(yourtouch=.01),A(e,!0,(slider333[_0x5af3("0x98")]+10*yourtouch)/2)),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=e):(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=-1);break;case BABYLON[_0x5af3("0xaf")][_0x5af3("0xdb")]:e=parseInt(x[_0x5af3("0x16d")][_0x5af3("0x12f")][_0x5af3("0xf3")].substr(6),10);x[_0x5af3("0x16d")].pickedMesh[_0x5af3("0xf3")]!==_0x5af3("0x67")&&x[_0x5af3("0x16d")].pickedMesh[_0x5af3("0xf3")]!==_0x5af3("0x5")?(1!==downup[e]&&(downup[e]=1,(yourtouch=x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0x52")||x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0xe9")?x[_0x5af3("0x71")][_0x5af3("0x161")]:.1)>.1&&(yourtouch=.1),yourtouch<.01&&(yourtouch=.01),A(e,!0,(slider333[_0x5af3("0x98")]+10*yourtouch)/2)),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=e):(fingers[x.event[_0x5af3("0x97")]]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x.event[_0x5af3("0x97")]]),fingers[x.event[_0x5af3("0x97")]]=-1);break;case BABYLON[_0x5af3("0xaf")][_0x5af3("0x105")]:var f=a.pick(a[_0x5af3("0x133")],a[_0x5af3("0x30")],function(a){return a});e=parseInt(f.pickedMesh.name[_0x5af3("0xc5")](6),10);f[_0x5af3("0x12f")][_0x5af3("0xf3")]===_0x5af3("0x67")||f[_0x5af3("0x12f")][_0x5af3("0xf3")]===_0x5af3("0x5")?-1!==fingers[x.event[_0x5af3("0x97")]]&&(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]),fingers[x.event[_0x5af3("0x97")]]=-1):1===downup[e]&&(downup[e]=0,y(e),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=-1);break;case BABYLON[_0x5af3("0xaf")][_0x5af3("0xa3")]:f=a[_0x5af3("0x79")](a[_0x5af3("0x133")],a[_0x5af3("0x30")],function(a){return a}),e=parseInt(f[_0x5af3("0x12f")][_0x5af3("0xf3")][_0x5af3("0xc5")](6),10);f[_0x5af3("0x12f")][_0x5af3("0xf3")]!==_0x5af3("0x67")&&f[_0x5af3("0x12f")][_0x5af3("0xf3")]!==_0x5af3("0x5")||-1!==fingers[x[_0x5af3("0x71")].pointerId]&&void 0!==fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]&&(downup[fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]]=0,fingers[x[_0x5af3("0x71")].pointerId]>-1&&fingers[x.event[_0x5af3("0x97")]]<88&&y(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]),fingers[x.event[_0x5af3("0x97")]]=-1),1===downup[e]&&e===fingers[x.event[_0x5af3("0x97")]]&&(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=e),1===downup[e]&&e!==fingers[x[_0x5af3("0x71")].pointerId]&&(downup[fingers[x[_0x5af3("0x71")].pointerId]]=0,fingers[x.event[_0x5af3("0x97")]]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x[_0x5af3("0x71")].pointerId]),fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]=e),0===downup[e]&&(-1!==fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]&&void 0!==fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]?(downup[fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]]=0,fingers[x.event[_0x5af3("0x97")]]>-1&&fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]<88&&y(fingers[x[_0x5af3("0x71")][_0x5af3("0x97")]]),fingers[x.event[_0x5af3("0x97")]]=-1):(downup[e]=1,fingers[x[_0x5af3("0x71")].pointerId]=e,(yourtouch=x[_0x5af3("0x71")].pointerType===_0x5af3("0x52")||x[_0x5af3("0x71")][_0x5af3("0x14e")]===_0x5af3("0xe9")?x[_0x5af3("0x71")][_0x5af3("0x161")]:.1)>.1&&(yourtouch=.1),yourtouch<.01&&(yourtouch=.01),A(e,!0,(slider333[_0x5af3("0x98")]+10*yourtouch)/2)))}}),a};function clickedmusic(a){document[_0x5af3("0xc3")](_0x5af3("0xe"))[_0x5af3("0x1a2")].width="0";var x=shortcuts[_0x5af3("0x22")][a].link;teachingsetup(),serialadd([panel22,button21,button111]),serialremove([button11,button10,button2,button3,button22]),quizmode=-1,panel6[_0x5af3("0x63")](slider6),panel5[_0x5af3("0x82")](slider5),header5[_0x5af3("0x14")]="",quizmode=-1;var e=new XMLHttpRequest;e[_0x5af3("0x41")](_0x5af3("0x10a"),x),e[_0x5af3("0xe6")]=_0x5af3("0x14"),e[_0x5af3("0x119")](),e[_0x5af3("0x14a")]=function(){200===e[_0x5af3("0xa5")]&&(usertempo=1/(1*slider5[_0x5af3("0x98")]/100),sheetmusic=e.response,result=xmlToJSON[_0x5af3("0x43")](sheetmusic,myOptions),sequence(!0))}}var scene=createScene();engine.runRenderLoop(function(){scene.render()}),window[_0x5af3("0xe0")](_0x5af3("0x14c"),function(){engine[_0x5af3("0x14c")]()});
    </script>
  </body>

</html>




